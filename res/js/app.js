"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=95)}([function(t,e){t.exports=function(t,e,i,n,a,s){var o,r=t=t||{},l=_typeof(t.default);"object"!==l&&"function"!==l||(o=t,r=t.default);var c="function"==typeof r?r.options:r;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId=a);var d;if(s?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=d):n&&(d=n),d){var u=c.functional,h=u?c.render:c.beforeCreate;u?(c._injectStyles=d,c.render=function(t,e){return d.call(e),h(t,e)}):c.beforeCreate=h?[].concat(h,d):[d]}return{esModule:o,exports:r,options:c}}},function(t,e,i){e.a={cavasSize:18e3,elHeight:32,elSpaceHeight:32,elUPSpace:50,hideStyle:"left:-300px;top:-300px"}},function(t,e,i){e.a=["#56baff","#d6337d","#62B0FF","#cf0606","#ff7a7a","#764df8","#6bc859","#9a7aff","#388bdd","#ffca65","#e17aff","#7B8F18"]},function(t,e,i){e.a={pathZ:function(t,e,i,n,a){var s=void 0,o=void 0,r=void 0;return a?(s=t-8,o=t-16):(s=t+8,o=t+16),r=e>n?n+8:e<n?n-8:n,"M"+t+","+e+" L"+s+","+e+" L"+s+","+r+" C"+s+","+n+" "+s+","+n+" "+o+","+n+" L"+i+","+n},pathC:function(t,e,i,n,a,s){var o=void 0,r=void 0,l=void 0,c=void 0;return a?(o=t-.3*s,l=i+.4*s):(o=t+.4*s,l=i-.3*s),r=e,c=n,"M"+t+","+e+" C"+o+","+r+" "+l+","+c+" "+i+","+n},pathZType2:function(t,e,i,n,a){var s=void 0,o=void 0,r=void 0;return a?(s=e-8,o=e-16):(s=e+8,o=e+16),r=t>i?i+8:t<i?i-8:i,"M"+t+","+e+" L"+t+","+s+" L"+r+","+s+" C"+i+","+s+" "+i+","+s+" "+i+","+o+" L"+i+","+n},pathCType2:function(t,e,i,n,a,s){var o=void 0,r=void 0,l=void 0,c=void 0;return a?(r=e-.3*s,c=n+.4*s):(r=e+.4*s,c=n-.3*s),o=t,l=i,"M"+t+","+e+" C"+o+","+r+" "+l+","+c+" "+i+","+n}}},function(t,e,i){e.a=function(t,e){e||(e=$(window));var i=e.width(),n=e.height(),a=parseInt(i-18e3)/2,s=parseInt(n-18e3)/2-100;t.css({left:a+"px",top:s+"px"})}},function(t,e,i){e.a={cavasSize:18e3,hideStyle:"left:-300px;top:-300px"}},function(t,e,i){function n(t,e,i){var a=e.children;if(a&&a.length>0)for(var s=0;s<a.length;s++)n(t,a[s],i);t.mindNode(e,i,t)}var a=i(13),s=i(14),o=i(15),r=i(1);e.a={reset:function(t,e){e.clear(),this.init(t,e)},init:function(t,e){var i=parseInt(t.grapType),l=r.a.cavasSize,c=void 0,d=void 0;1===i||4===i?(d=t.children.length/2)%1==0?d-=1:d=Math.floor(d):2===i||5===i?d=-1:3!==i&&6!==i||(d=t.children.length-1),1===i||2===i||3===i?((c=a.a.height(e,t)).x=l/2,c.y=l/2,Object(s.a)(c,d,e)):4!==i&&5!==i&&6!==i||((c=a.a.width(e,t)).x=l/2,c.y=l/2,Object(o.a)(c,d,e)),n(e,c,t.shape)}}},function(t,e,i){e.a={rect:function(t,e,i,n,a){void 0!==i&&null!==i||(i=80),void 0!==n&&null!==n||(n=48);var s=i/7<n/5?i/7:n/5,o=["M"+t,e+(s=s<10?s:10),"A"+s,s,0,0,1,t+s,e,"L"+(t+i-s),e,"A"+s,s,0,0,1,t+i,e+s,"L"+(t+i),e+n-s,"A"+s,s,0,0,1,t+i-s,e+n,"L"+(t+s),e+n,"A"+s,s,0,0,1,t,e+n-s,"Z"].join(",");return a?o:{width:i,height:n,color:"#009fe3",path:o,text:"\u77e9\u5f62"}},circle:function(t,e,i,n,a){void 0!==i&&null!==i||(i=72),void 0!==n&&null!==n||(n=72);var s=i/2,o=["M"+t,e+n/2,"a"+s,s,0,1,0,i,0,"a"+s,s,0,1,0,-i,0,"Z"].join(",");return a?o:{width:i,height:n,color:"#79aa1c",path:o,text:"\u5706\u5f62"}},angle4:function(t,e,i,n,a){void 0!==i&&null!==i||(i=80),void 0!==n&&null!==n||(n=72);var s=["M"+(t+i/2),e,"L"+(t+i),e+n/2,"L"+(t+i/2),e+n,"L"+t,e+n/2,"Z"].join(",");return a?s:{width:i,height:n,color:"#f80e15",path:s,text:"\u83f1\u5f62"}},ellipse:function(t,e,i,n,a){void 0!==i&&null!==i||(i=80),void 0!==n&&null!==n||(n=48);var s=n/2,o=["M"+(t+s),e,"a"+s,s,0,1,0,0,n,"L"+(t+i-s),e+n,"a"+s,s,0,1,0,0,-n,"Z"].join(",");return a?o:{width:i,height:n,color:"#E7C004",path:o,text:"\u692d\u5706"}},document:function(t,e,i,n,a){void 0!==i&&null!==i||(i=80),void 0!==n&&null!==n||(n=48);var s=["M"+t,e,"L"+(t+i),e,"L"+(t+i),e+7*n/9,"Q",t+3*i/4,e+5*n/9,t+i/2,e+7*n/9,"Q",t+i/4,e+n,t,e+7*n/9,"Z"].join(" ");return a?s:{width:i,height:n,color:"#e17aff",path:s,text:"\u6587\u672c\u6846"}},step:function(t,e,i,n,a){void 0!==i&&null!==i||(i=80),void 0!==n&&null!==n||(n=48);var s=["M"+t,e,"L"+(t+5*i/6),e,"L"+(t+i),e+n/2,"L"+(t+5*i/6),e+n,"L"+t,e+n,"L"+(t+i/6),e+n/2,"Z"].join(" ");return a?s:{width:i,height:n,color:"#388bdd",path:s,text:"\u6b65\u9aa4"}},get:function(t,e,i,n,a,s){return"rect"===t?this.rect(e,i,n,a,s):"circle"===t?this.circle(e,i,n,a,s):"angle4"===t?this.angle4(e,i,n,a,s):"ellipse"===t?this.ellipse(e,i,n,a,s):"document"===t?this.document(e,i,n,a,s):"step"===t?this.step(e,i,n,a,s):void 0}}},function(t,e,i){e.a={z:function(t,e){var i=this.temp2(t,e),n=i.start,a=i.end,s=parseInt(i.startX),o=parseInt(i.startY),r=parseInt(i.endX),l=parseInt(i.endY),c=parseInt(Math.abs(r-s)/4),d=t.data("type"),u=e.data("type"),h=t.data("width"),v=e.data("width");return c<20&&(c=20),0===n?o-=c:1===n?o+=c:2===n?"step"===d?s+=h/6:s-=c:3===n&&(s+=c),4===a?l-=c:5===a?l+=c:6===a?"step"===u?(r-=c,i.endX=r+c+v/6):r-=c:7===a&&(r+=c),{midX:s+(r-s)/2,midY:o,startX:s,startY:o,endX:r,endY:l,path:["M",i.startX,i.startY,"L",s,o,"L",r,o,"L",r,l,"L",i.endX,i.endY].join(",")}},c:function(t,e){var i=this.temp2(t,e),n=parseInt(i.startX),a=parseInt(i.startY),s=parseInt(i.endX),o=parseInt(i.endY),r=[i.start,i.end],l=Math.max(Math.abs(n-s)/2,10),c=Math.max(Math.abs(a-o)/2,10);return["M",n,a,"C",[n,n,n-l,n+l][r[0]],[a-c,a+c,a,a][r[0]],[0,0,0,0,s,s,s-l,s+l][r[1]],[0,0,0,0,a+c,a-c,o,o][r[1]],s,o].join(",")},temp:function(t,e,i,n){return["M",t,e,"L",t,n,"L",i,n].join(",")},temp2:function(t,e){for(var i=t.getBBox(),n=e.getBBox(),a=[{x:i.x+i.width/2,y:i.y-1},{x:i.x+i.width/2,y:i.y+i.height+1},{x:i.x-1,y:i.y+i.height/2},{x:i.x+i.width+1,y:i.y+i.height/2},{x:n.x+n.width/2,y:n.y-1},{x:n.x+n.width/2,y:n.y+n.height+1},{x:n.x-1,y:n.y+n.height/2},{x:n.x+n.width+1,y:n.y+n.height/2}],s={},o=[],r=void 0,l=void 0,c=void 0,d=0;d<4;d++)for(var u=4;u<8;u++)l=Math.abs(a[d].x-a[u].x),c=Math.abs(a[d].y-a[u].y),(d===u-4||(3!==d&&6!==u||a[d].x<a[u].x)&&(2!==d&&7!==u||a[d].x>a[u].x)&&(0!==d&&5!==u||a[d].y>a[u].y)&&(1!==d&&4!==u||a[d].y<a[u].y))&&(o.push(l+c),s[o[o.length-1]]=[d,u]);var h=a[(r=0===o.length?[0,4]:s[Math.min.apply(Math,o)])[0]].x.toFixed(3),v=a[r[0]].y.toFixed(3),f=a[r[1]].x.toFixed(3),p=a[r[1]].y.toFixed(3),m=parseInt(h)+(parseInt(f)-parseInt(h))/2,g=parseInt(v);return{start:r[0],end:r[1],startX:h,startY:v,endX:f,endY:p,midX:m,midY:g}}}},function(t,e,i){var n=i(22),a=i(100),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){e.a={dragConfig:{helper:"clone",cancel:".title",opacity:.9,zIndex:10,containment:".k-chapter"},dropConfig:{accept:".item",classes:{"ui-droppable-hover":"draghover"},drop:function(t,e){var i=$(this),n={event:"move",from:e.helper.data("id"),to:$(this).data("id"),isSon:!0};n.to!==n.from&&(i.hasClass("guide")&&(n.isSon=!1),zen.vue.$emit("chapterEvt",n))}},initData:function(){return{id:3,sons:[{title:"\u6b22\u8fce\u4f7f\u7528",link:"",date:"2016-09-18",id:1,sons:[{title:"\u600e\u4e48\u521b\u5efa",id:3,link:"",date:"2016-09-18",sons:[]}]},{title:"\u5173\u4e8ekooteam",id:2,link:"",date:"2016-09-18",sons:[]}]}}}},function(t,e,i){function n(t,e,i){var n={type:i,evt:t,target:e};zen.vue.$emit("mindEvt","nodeEvent",n)}var a=i(2);e.a=function(){Raphael.fn.mindNode=function(t,e){var i=t.x,s=t.y,o=t.width,r=t.id,l=void 0,c=void 0,d="t_"+r,u=this.getById(d),h=this.getById(r);if(u.attr({x:i+o/2,y:s+15}),1===e){if("#ffffff"===t.color){var v=Math.floor(Math.random()*a.a.length);l=a.a[v]}else l=t.color;c={fill:l,stroke:l,"fill-opacity":.15,"stroke-width":1,cursor:"pointer"}}else c=2===e?"root"===t.id?{fill:"#ffffff",stroke:"#000","fill-opacity":.15,cursor:"pointer"}:{fill:"#ffffff",stroke:"","fill-opacity":.15,cursor:"pointer"}:{fill:t.color,stroke:t.color,"fill-opacity":.15,"stroke-width":1,cursor:"pointer"};h?(h.attr({x:i,y:s,width:o,height:32}),h.attr(c)):((h=this.rect(i,s,o,32,3)).click(function(t){n(t,this,"click")}),h.dblclick(function(t){n(t,this,"dblclick")}),h.mouseover(function(t){n(t,this,"mouseover")}),h.mouseout(function(t){n(t,this,"mouseout")}),h.attr(c),h.id=r)}}},function(t,e,i){e.a=function(){Raphael.fn.mindLine=function(t,e){var i="l_"+t,n=this.getById(i);n?n.attr({path:e}):(n=this.path(e).attr({stroke:"#aaa","stroke-width":1,fill:"none"})).id=i}}},function(t,e,i){function n(t,e){var i="t_"+e.id,n=t.getById(i);return n?n.attr({text:e.name}):(n=t.text(-200,-200,e.name).attr(s).attr("id",i)).id=i,n.getBBox().width+20}var a=i(1),s={fill:"#000","font-size":13};e.a={height:function(t,e){var i=0,s=void 0,o=void 0;if(e.children||(e.children=[]),0===e.children.length)i=a.a.elHeight;else{o=e.children.length;for(var r=0;r<e.children.length;r++)(s=e.children[r]).children?i+=(s=this.height(t,s)).height:(i+=a.a.elHeight,s.top=0,s.height=a.a.elHeight,s.width=n(t,s));i+=(o-1)*a.a.elSpaceHeight}return e.top=0,e.height=i,e.width=n(t,e),e},width:function(t,e){var i=0,s=void 0,o=void 0,r=0;if(e.children||(e.children=[]),0===e.children.length)i=n(t,e),r+=i;else{o=e.children.length;for(var l=0;l<o;l++)(s=e.children[l]).children?r+=(s=this.width(t,s)).widthCount:(s.top=0,s.width=n(t,s),r+=s.widthCount);r+=(o-1)*a.a.elUPSpace,i=n(t,e)}return e.top=0,e.height=a.a.elHeight,e.width=i,e.childWidthCount=r,e.widthCount=r>i?r:i,e}}},function(t,e,i){function n(t,e,i){if(i?(t.x=e.x-l-t.width,t.left=i):(t.x=e.x+l+e.width,t.left=i),t.color||(t.color=e.color),e.top||(e.top=e.y-e.height/2),t.y=e.top+t.height/2,"root"===e.id){var a=e.grapType,s=e.children.length;1===a?s>2&&(i&&(s+=1),t.y=t.y-(Math.floor(s/2)-1)*r.a.elSpaceHeight/2):2!==a&&3!==a||(t.y=t.y-(s-1)*r.a.elSpaceHeight/2)}if(e.top+=t.height+r.a.elSpaceHeight,!t.children||0===t.children.length)return t;for(var o=0;o<t.children.length;o++)t.children[o]=n(t.children[o],t,i);return t}function a(t,e,i,n,s){var c=void 0,d=void 0,u=void 0,h=void 0;i?(c=e.x,u=t.x+t.width):(c=e.x+e.width,u=t.x),d=e.y+r.a.elHeight/2,h=t.y+r.a.elHeight/2;var v=void 0;if(1===s&&(v=o.a.pathZ(c,d,u,h,i)),2===s&&(v=o.a.pathC(c,d,u,h,i,l)),n.mindLine(t.id,v),t.children)for(var f=0;f<t.children.length;f++)a(t.children[f],t,i,n,s)}var s=i(2),o=i(3),r=i(1),l=100;e.a=function(t,e,i){t.top=0,t.color||(t.color=s.a[s.a.length-1]);var o=0,r=void 0,l=void 0,c=void 0,d=parseInt(t.lineType);for(r=0;r<=e;r++)o+=(c=t.children[r]).height,c.color||(l=r%s.a.length,c.color=s.a[l]);for(t.height=o,r=0;r<=e;r++)n(t.children[r],t,!0),a(t.children[r],t,!0,i,d);for(o=0,r=++e;r<t.children.length;r++)o+=(c=t.children[r]).height,c.color||(l=r%s.a.length,c.color=s.a[l]);for(t.top=0,t.height=o,r=e;r<t.children.length;r++)n(t.children[r],t,!1),a(t.children[r],t,!1,i,d);return t}},function(t,e,i){function n(t,e,i){if(t.y=i?e.y-r.a.elHeight-l:e.y+r.a.elHeight+l,t.color||(t.color=e.color),e.top||(e.widthCount>e.childWidthCount?e.top=e.x+e.width/2-e.childWidthCount/2:e.top=e.x+e.width/2-e.widthCount/2),t.x=e.top+t.widthCount/2-t.width/2,"root"===e.id){var a=e.grapType,s=e.children.length;"4"===a?s>2&&(i&&(s+=1),t.x=t.x-(Math.floor(s/2)-1)*r.a.elUPSpace/2):"5"!==a&&"6"!==a||(t.x=t.x-(s-1)*r.a.elUPSpace/2)}if(e.top+=t.widthCount+r.a.elUPSpace,!t.children||0===t.children.length)return t;for(var o=0;o<t.children.length;o++)t.children[o]=n(t.children[o],t,i);return t}function a(t,e,i,n,s){var l=void 0,c=void 0,d=void 0,u=void 0;l=e.x+e.width/2,d=t.x+t.width/2,i?(c=e.y,u=t.y+r.a.elHeight):(c=e.y+r.a.elHeight,u=t.y);var h=void 0;if(h=o.a.pathZType2(l,c,d,u,i),1===s?h=o.a.pathZType2(l,c,d,u,i):2===s&&(h=o.a.pathCType2(l,c,d,u,i,r.a.elUPSpace)),n.mindLine(t.id,h),t.children)for(var v=0;v<t.children.length;v++)a(t.children[v],t,i,n,s)}var s=i(2),o=i(3),r=i(1),l=50;e.a=function(t,e,i){t.top=0,t.color||(t.color=s.a[s.a.length-1]);var o=0,r=void 0,l=void 0,c=void 0,d=parseInt(t.lineType);for(r=0;r<=e;r++)o+=(c=t.children[r]).widthCount,c.color||(l=r%s.a.length,c.color=s.a[l]);for(t.widthCount=o,r=0;r<=e;r++)n(t.children[r],t,!0),a(t.children[r],t,!0,i,d);for(o=0,r=++e;r<t.children.length;r++)o+=(c=t.children[r]).widthCount,c.color||(l=r%s.a.length,c.color=s.a[l]);for(t.top=0,t.widthCount=o,r=e;r<t.children.length;r++)n(t.children[r],t,!1),a(t.children[r],t,!1,i,d)}},function(t,e,i){e.a={reset:function(t,e,i){e.clear(),this.init(t,e,i)},init:function(t,e,i){for(var n={},a={},s=void 0,o=void 0,r=void 0,l=void 0,c=void 0,d=0;d<t.nodes.length;d++)s=t.nodes[d],r=e.flowNode(s),n[s.id]=r;i&&(i.nodes=n);for(var u=0;u<t.lines.length;u++)o=(s=t.lines[u]).start+"-"+s.end,l=n[s.start],c=n[s.end],r=e.flowLine({from:l,to:c,text:s.text}),a[o]=r;i&&(i.lines=a)}}},function(t,e,i){var n=i(7);e.a=function(){Raphael.fn.flowNode=function(t,e){var i=t.x,a=t.y,s=t.width,o=t.height,r=n.a.get(t.type,i,a,s,o),l=r.path,c=r.width,d=r.height,u=t.color,h=t.text;u||(u=r.color);var v={fill:u,stroke:u,"fill-opacity":.15,"stroke-width":1,cursor:"move",x:i,y:a};if(e){if(h){var f=e.data("txt"),p=i+c/2,m=a+d/2;f?f.attr({text:h,x:p,y:m}):(f=this.text(p,m,h).data("id",t.id).attr({fill:"#000","font-size":13}),e.data("txt",f))}return v.path=l,e.attr(v),e}var g=this,_=g.path(l);if(h){var w=g.text(i+c/2,a+d/2,h).data("id",t.id).attr({fill:"#000","font-size":13});_.data("txt",w)}return _.attr(v),_.data("id",t.id),_.mouseover(function(){zen.vue.$emit("flowEvt","nodeMouseover",this)}),_}}},function(t,e,i){function n(t,e,i,n,s){var o=n.data("txt"),r=void 0,l=void 0,c=void 0,d=void 0;if(o||i){if(!o)return(o=s.text(t,e,i).attr({fill:"#000","font-size":13})).click(function(){a("click",this.prev.prev)}),l=o.getBBox(),c=l.width,d=l.height,(r=s.rect(t-c/2,e-d/2,c,d).attr({fill:"#fff",stroke:"#fff","stroke-width":4})).insertBefore(o),o.data("id",n.data("id")),n.data("txt",o),n.data("txtBg",r);var u={x:t,y:e};void 0!==i&&(u.text=i),o.attr(u),c=(l=o.getBBox()).width,d=l.height,(r=n.data("txtBg")).attr({x:t-c/2,y:e-d/2,width:c,height:d})}}function a(t,e){var i={type:t,target:e};zen.vue.$emit("flowEvt","lineEvent",i)}var s=i(8);e.a=function(){Raphael.fn.flowLine=function(t,e){var i=t.from,o=t.to;if(i&&o){var r=s.a.z(i,o);if(e){var l=e.line;return l.attr({path:r.path}),n(r.midX,r.midY,t.text,l,this),e}var c=this.path(r.path).attr({stroke:"#aaa","stroke-width":1,fill:"none","arrow-end":"block-wide-long"});c.mouseover(function(){a("mouseover",this)}),c.click(function(){a("click",this)}),c.dblclick(function(){a("click",this)});var d=i.data("id")+"-"+o.data("id");return c.data("id",d),t.text&&n(r.midX,r.midY,t.text,c,this),{line:c,from:i,to:o,id:d}}}}},function(t,e,i){var n=i(97);e.a={data:function(){return{data:[{tag:"a",title:"\u91cd\u8981\u4e14\u7d27\u6025",sons:[]},{tag:"b",title:"\u91cd\u8981\u4e0d\u7d27\u6025",sons:[]},{tag:"c",title:"\u7d27\u6025\u4e0d\u91cd\u8981",sons:[]},{tag:"d",title:"\u4e0d\u91cd\u8981\u4e0d\u7d27\u6025",sons:[]}],now:0,showDetail:!1}},components:{Quadrant:n.a},mounted:function(){this.load();var t=new Date;this.now=t.getTime()%1e3},methods:{load:function(){zen.http(null,"/thing/latest.do",function(t){var e=t.data,i=void 0,n=void 0;if(e)for(var a=0;a<e.length;a++)i=e[a],(n=this.getQuadrant(i.quadrant))&&n.sons.push(i)},this)},getQuadrant:function(t){for(var e=void 0,i=0;i<4;i++)if((e=this.data[i]).tag===t)return e;return null}}}},function(t,e,i){var n=i(98),a=i(9);e.a={props:["data","now"],components:{Title:n.a,Thing:a.a},data:function(){return{things:{},currentId:""}},mounted:function(){var t=this;this.things=this.data,$(".block",this.$el).droppable({accept:".k-thing",cancel:".k-thing",classes:{"ui-droppable-hover":"draghover"},drop:function(e,i){var n=i.helper.data("id"),a=$(e.target).data("id");if(t.currentId===n)return t.currentId="";0===$(".draghover",t.$el).length&&t.exchange(n,a,!0)}})},methods:{exchange:function(t,e,i){for(var n=void 0,a=void 0,s=void 0,o=0;o<4;o++){for(n=this.$parent.data[o],a=0;a<n.sons.length;a++)if(n.sons[a]._id===t){s=n.sons.splice(a,1)[0];break}if(s)break}if(i)n=this.$parent.getQuadrant(e),s.quadrant=e,n.sons.push(s);else for(n=this.$parent.getQuadrant(e.quadrant),a=0;a<n.sons.length;a++)if(n.sons[a]._id===e._id){e.order||(e.order=0),s.order=e.order+1,s.quadrant=e.quadrant,n.sons.splice(a,0,s);break}this.currentId="";var r={_id:s._id,quadrant:s.quadrant,order:s.order};zen.http(r,"/thing/patch.do",function(t){},this)}}}},function(t,e,i){e.a={props:["quadrant","name","todoList"],data:function(){return{text:"",isBlur:!0,active:!1}},methods:{stop:function(t){t.stopPropagation()},hide:function(){this.active=!1,this.isBlur=!0,this.$nextTick(function(){this.isBlur=!1})},show:function(){if(this.active||this.isBlur)return this.isBlur=!1;this.active=!this.active,this.active&&this.$nextTick(function(){$("input",this.$el).focus()})},keyup:function(t){if(t.stopPropagation(),t.preventDefault(),13===t.keyCode){var e={},i=this.text;if(!i)return;e.title=i,e.quadrant=this.quadrant,zen.http(e,"/thing/put.do",function(t){var i=t.data;e._id=i._id;var n=i.status;e.status=parseInt(n),this.$parent.things.sons.unshift(e),this.text=""},this)}}}}},function(t,e,i){e.a={props:["data","now","drag"],data:function(){return{item:null}},created:function(){this.item=this.data},mounted:function(){this.drag&&this.dragEvt(),zen.vue.$on("thingUpdate",this.sync)},methods:{sync:function(t){var e=this.item;t._id===e._id&&e.title!==t.title&&(e.title=t.title)},doFinish:function(t){var e="finish",i=this.item._id,n=void 0,a=$(t.currentTarget).parent();a.hasClass(e)?(a.removeClass(e),n=0):(a.addClass(e),n=1);var s={_id:i,status:n,projectId:this.item.projectId};zen.http(s,"/thing/patch.do",function(){this.data.status=n},this)},detail:function(){zen.vue.$emit("thingDetail",this.item._id)},dragEvt:function(){var t=$(this.$el),e=this;t.draggable({helper:"clone",appendTo:"body",zIndex:10}),t.droppable({accept:".k-thing",greedy:!0,classes:{"ui-droppable-hover":"draghover"},drop:function(t,i){var n=i.helper.data("id");n!==e.item._id&&e.$parent.exchange(n,e.item)}})}}}},function(t,e,i){var n=i(104),a=i(106),s=i(108),o=i(110),r=i(112),l=i(116),c=i(32),d=i(119),u=i(121);e.a={props:["quadrant"],data:function(){return{item:null,showUserSearch:!1,onwerNick:"",owner:{},isShow:!1}},components:{Comment:n.a,Describe:a.a,Owner:s.a,SubThing:o.a,Tag:l.a,Plan:r.a,Priority:c.a,CommentPost:d.a,Clock:u.a},mounted:function(){this.$nextTick(function(){zen.vue.$on("thingDetail",this.init)})},watch:{owner:function(t){this.onwerNick=t.nick,this.item.owner=t.uid}},methods:{init:function(t){zen.http({_id:t},"/thing/get.do",function(t){this.item=t.data,this.isShow=!0},this)},click:function(){this.showUserSearch&&(this.showUserSearch=!1)},close:function(){this.isShow=!1},preventEvt:function(t){t.stopPropagation()},doFinish:function(){var t=this.item.status,e=this.item._id,i=void 0;1===t&&(i=0),0!==t&&2!==t||(i=1),zen.http({_id:e,status:i},"/thing/patch.do",function(t){this.item.status=i},this)},delTodo:function(){zen.http({_id:this.item._id,status:2},"/thing/patch.do",function(t){this.item.status=2},this)},save:function(){zen.http(this.item,"/thing/patch.do",function(t){this.isShow=!1,zen.vue.$emit("thingUpdate",this.item)},this)}}}},function(t,e,i){e.a={props:["value"],data:function(){return{commentsData:[],targetId:"",myId:""}},mounted:function(){this.value&&(this.targetId=this.value._id,this.queryComments(),this.myId=zen.user.id,this.$nextTick(function(){zen.vue.$on("addNewComent",this.addNewComent)}))},methods:{queryComments:function(){({}).targetId=this.targetId,zen.http({targetId:this.targetId},"/comment/selectByParent.do",function(t){var e=t.data;e&&(this.commentsData=e)},this)},remove:function(t){var e=this.commentsData[t]._id;this.commentsData.splice(t,1),zen.http({_id:e,status:0},"/patch/comment.json",function(){})},addNewComent:function(){this.queryComments()}}}},function(t,e,i){var n=i(26);e.a={props:["content"],data:function(){return{thing:null,localEmit:!1}},mounted:function(){LazyLoad.lib(["/note/simditor.css","/note/simditor.min.js"],this.init,null,this)},methods:{init:function(){var t=n.a.uploadDomain();Simditor.locale="zh-CN";var e=["title","bold","italic","underline","strikethrough","fontScale","color","ol","ul","blockquote","code","table","link","image","hr","alignment"];this.editor=new Simditor({textarea:$("textarea",this.$el),placeholder:"\u8fd9\u91cc\u8f93\u5165\u5f85\u529e\u63cf\u8ff0...",defaultImage:"//a.yimiyisu.com/kooteam/preview.png",params:{},tabIndent:!0,toolbar:e,toolbarFloat:!1,toolbarFloatOffset:0,height:"200px",toolbarHidden:!1,pasteImage:!0,cleanPaste:!0,upload:{url:t+"/upload/image.do",fileKey:"file"}}),this.editor.uploader.on("uploadsuccess",function(t,e,i){var n=JSON.parse(i);if(23===n.action)return alert(n.message);e.img.attr("src",n.data)});var i=this;void 0!==this.content&&i.editor.setValue(this.content),i.editor.on("valuechanged",function(){i.localEmit=!0,i.$parent.item.content=i.editor.getValue()})}}}},function(t,e,i){e.a={uploadDomain:function(){if(zen.user&&zen.user.isLocal)return"";var t="//bridge.kooteam.com";return"daily"===zen.env&&(t="//bridge.dev.zeto.me"),t}}},function(t,e,i){e.a={props:["value","nick"],data:function(){return{name:""}},watch:{nick:function(t){t&&(this.name=t)}},mounted:function(){var t=this.value.owner;if(t===zen.user.id)return this.name="\u6211\u81ea\u5df1";zen.http({uid:t},"/user/getById.do",function(t){this.name=t.data.nick},this)},methods:{show:function(){this.$parent.showUserSearch=!0}}}},function(t,e,i){e.a={}},function(t,e,i){var n=i(113);e.a={props:["value"],data:function(){return{modal:1,cal:null,thing:null,name:"\u5355\u65e5",modals:["","\u5355\u65e5","\u591a\u65e5","\u8d77\u6b62","\u91cd\u590d"],range:[],text:"",dateStr:"",isShow:!1,selected:{}}},components:{Repeat:n.a},mounted:function(){var t=this.value;this.thing=t,t.plan&&(this.modal=t.plan),1===this.modal?this.text=zen.date(t.start):this.text="\u91cd\u590d\u4efb\u52a1",this.name=this.modals[this.modal],this.modal>1&&t.planContent&&(this.selected=JSON.parse(t.planContent))},methods:{show:function(){LazyLoad.lib(["/flatpickr2/flatpickr.min.css","/flatpickr2/flatpickr.min.js"],this.init,null,this)},submit:function(){if(this.thing.plan=this.modal,4===this.modal)this.text="\u91cd\u590d\u4efb\u52a1",this.thing.planContent=JSON.stringify(this.selected);else{this.text=this.dateStr;var t=new Date(this.dateStr).getTime()/1e3;(!this.thing.end||this.thing.end<this.thing.start)&&(this.thing.end=t+7200),this.thing.start=t}this.$emit("input",this.thing),this.close()},close:function(){this.isShow=!1},changeModal:function(t){if(t!==this.modal){if(t<4){var e=["","single","multiple","range"];this.name=this.modals[t],this.cal.clear(),this.cal.set("mode",e[t])}this.modal=t}},init:function(){if(this.isShow=!0,!this.cal){var t=zen.date(this.thing.start),e=this,i=["","single","multiple","range"];this.cal=$(".J_calendar",this.$el).flatpickr({inline:!0,minDate:"today",defaultDate:t,mode:i[this.modal],enableTime:!0,time_24hr:!0,onChange:function(t,i){e.dateStr=i}})}},choseRepeat:function(t){this.modal=4,this.selected=t}}}},function(t,e,i){e.a={props:["value"],data:function(){return{repeatType:1,time:"9:00",result:[],repeats:["\u6bcf\u5929","\u6bcf\u5468","\u6bcf\u6708"],weeks:["\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d","\u5468\u65e5"],days:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],weekSelected:[],daySelected:[],selected:{}}},mounted:function(){var t=this,e=this.value;this.repeatType=e.type,1===e.type&&(this.weekSelected=e.data),2===e.type&&(this.daySelected=e.data),this.selected=e,$(".J_calendar-2",this.$el).flatpickr({enableTime:!0,noCalendar:!0,dateFormat:"H:i",defaultDate:this.time,time_24hr:!0,onChange:function(e,i){t.time=i,this.emit()}})},methods:{change:function(t){this.repeatType=t,this.emit()},selectWeek:function(t){var e=this.weekSelected.indexOf(t);e>-1?this.weekSelected.splice(e,1):this.weekSelected.unshift(t),this.emit()},selectDay:function(t){var e=this.daySelected.indexOf(t);e>-1?this.daySelected.splice(e,1):this.daySelected.unshift(t),this.emit()},emit:function(){1===this.repeatType&&(this.selected.data=this.weekSelected),2===this.repeatType&&(this.selected.data=this.daySelected),this.selected.time=this.time,this.selected.type=this.repeatType,this.$emit("input",this.selected)}}}},function(t,e,i){var n=i(2);e.a={props:["value"],data:function(){return{isShow:!1,isEdit:!1,newText:"",newColor:0,selected:[],tags:[],colors:[]}},created:function(){this.colors=n.a},methods:{close:function(){this.isShow=!1},addTag:function(){},newTag:function(){if(!this.newText)return alert("\u6807\u7b7e\u540d\u4e0d\u80fd\u4e3a\u7a7a");var t={text:this.newText,color:this.colors[this.newColor]};this.tags.push(t),this.newText="",this.cancel()},cancel:function(){this.isEdit=!1},editModal:function(){this.isEdit=!0},selectTag:function(t){},show:function(){this.isShow=!0,0===this.tags.length&&(this.isEdit=!0)},selectColor:function(t){this.newColor=t}}}},function(t,e,i){var n=i(33),a=i(118),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){e.a={props:["value"],data:function(){return{thing:{}}},mounted:function(){this.thing=this.value},methods:{select:function(t){t!==this.thing.quadrant&&(this.thing.quadrant=t,this.$emit("input",this.thing))}}}},function(t,e,i){e.a={props:["item"],data:function(){return{text:"",placeholder:"\u6309\u56de\u8f66\u5065\u53d1\u9001\u8bc4\u8bba",isInput:!0}},methods:{submitComment:function(){var t={targetId:this.item._id,content:this.text,status:1};zen.http(t,"/put/comment.json",function(){this.text="",zen.vue.$emit("addNewComent",null)},this)}}}},function(t,e,i){e.a={props:["value"],data:function(){return{selected:[],thing:{},options:[{name:"\u5f00\u59cb\u65f6\u524d5\u5206\u949f",value:0,checked:!1},{name:"\u5f00\u59cb\u65f6\u524d15\u5206\u949f",value:1,checked:!1},{name:"\u5f00\u59cb\u65f6\u524d30\u5206\u949f",value:2,checked:!1},{name:"\u5f00\u59cb\u65f6\u524d1\u5929",value:3,checked:!1}]}},mounted:function(){if(this.thing=this.value,!this.thing.remind)return this.selected=[];this.selected=this.thing.remind.split(","),this.checkStatus()},methods:{select:function(t){if($.inArray(t,this.selected)<0)this.selected.push(t);else for(var e=0;e<this.selected.length;e++)this.selected[e]===t&&this.selected.splice(e,1);this.emit()},checkStatus:function(){for(var t=0;t<this.options.length;t++){this.options[t].checked=!1;for(var e=0;e<this.selected.length;e++)this.options[t].value===this.selected[e]&&(this.options[t].checked=!0)}},emit:function(){this.checkStatus(),this.thing.remind=this.selected.join(","),this.$emit("input",this.thing)}}}},function(t,e,i){var n=i(125);e.a={props:["value"],data:function(){return{calendar:null,currentEvt:null,eventData:{},isShow:!1}},mounted:function(){LazyLoad.lib(["/calendar/moment.min.js","/calendar/fullcalendar.min.js"],this.init),zen.vue.$on("thingUpdate",this.updateTitle)},methods:{init:function(){var t={editable:!0,header:{left:"prev,next today",center:"title",right:"month,agendaWeek"},views:{month:{titleFormat:"YYYY\u5e74MM\u6708  DD"}},locale:"zh-cn",timezone:"local",fixedWeekCount:!1,aspectRatio:1.8,windowResizeDelay:300,selectable:!0,selectHelper:!0,select:this.add,eventClick:this.detail,eventResize:this.change,eventDrop:this.change,minTime:"06:00:00",maxTime:"23:00:00",eventLimit:!0,events:[]},e=zen.user.calendar;e&&(t.defaultView=e),t.defaultDate=new Date,t.events=n.a.convert(this.value);var i=$(".cal",this.$el).fullCalendar(t);this.calendar=i.fullCalendar("getCalendar"),this.$nextTick(function(){this.calendar.render(),this.calendar.refetchEvents()})},change:function(t){var e={_id:t.id,start:n.a.unixTime(t.start)};t.end&&(e.end=n.a.unixTime(t.end)),zen.http(e,"/thing/patch.do",function(t){},this)},updateTitle:function(t){this.currentEvt.color=n.a.getColor(t.quadrant),this.currentEvt.title=t.title,this.calendar.updateEvent(this.currentEvt)},add:function(t,e){this.isShow=!0,this.eventData={start:t,end:e}},addThing:function(t){if(t){var e=n.a.convert(t);this.calendar.renderEvent(e)}else this.calendar.unselect()},detail:function(t,e,i){this.currentEvt=t,zen.vue.$emit("thingDetail",t.id)},remove:function(t){this.calendar.removeEvents([t])},getThing:function(t){for(var e=void 0,i=0;i<this.value.length;i++)if((e=this.value[i])._id===t)return e;return null}}}},function(t,e,i){var n=i(38),a=i(10),s=i(169);e.a={data:function(){return{chapterData:{},content:null,value:null}},watch:{value:function(t){this.chapterData=t,this.loadContent(t._id,a.a.initData())}},components:{Editor:n.a,Tree:s.a},methods:{save:function(t,e,i){if(!t)return!1;void 0===i&&(i=3);var n={_id:this.chapterData._id,content:JSON.stringify(e)};zen.http(n,"/note/patch.do",function(t){0===i&&zen.notice(t.data,"success")},this,i)},loadContent:function(t,e){t&&zen.http({_id:t},"/extend/note.json",function(t){var i=t.data;i.content?this.content=JSON.parse(i.content):this.content=e},this)}}}},function(t,e,i){var n=i(39),a=i(168),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(128),a=i(132),s=i(133),o=i(135),r=i(166);e.a={props:["data","summary","pid"],components:{Chapter:n.a,AddDoc:s.a,Board:o.a,Set:r.a},data:function(){return{chapterData:{},content:{},showSet:!1,readonly:!1,docId:null}},watch:{data:function(t){this.chapterData=t},summary:function(t){this.content=t}},mounted:function(){this.chapterData=this.data,this.content=this.summary,this.$nextTick(function(){zen.vue.$on("chapterEvt",this.subscribe)});var t=zen.getParam("docId");t&&(this.docId=t)},methods:a.a}},function(t,e,i){var n=i(10),a=i(129);e.a={name:"Chapter",props:["value","readonly","parent"],components:{Icon:a.a},data:function(){return{title:"",current:null,isEdit:!1}},watch:{value:function(){this.dragAndDrop()}},mounted:function(){this.dragAndDrop()},methods:{toggle:function(){this.isEdit=!this.isEdit},dragAndDrop:function(){this.$nextTick(function(){for(var t=$(".item",this.$el),e=void 0,i=0;i<t.length;i++)(e=$(t[i])).hasClass("ui-draggable")||(e.draggable(n.a.dragConfig),e.droppable(n.a.dropConfig),e.prev().droppable(n.a.dropConfig))})},change:function(t){this.current=t,this.title=t.title,this.isEdit=!0},update:function(){this.current.title=this.title,this.isEdit=!1;var t={_id:this.current.link,title:this.title};t._id&&zen.http(t,"/note/patch.do",function(t){},this),this.trigger(null,"save")},view:function(t){return t.link?"folder"===t.link?(t.status=!t.status,this.trigger(t.id,"folder")):void this.trigger(t.link,"doc"):this.trigger(t,"newDoc")},trigger:function(t,e){if("remove"!==e||confirm("\u786e\u5b9a\u5220\u9664\u6587\u6863\u3010"+t.title+"\u3011\u5417")){var i={event:e,data:t};zen.vue.$emit("chapterEvt",i)}}}}},function(t,e,i){e.a={props:["type"]}},function(t,e,i){e.a={props:["parent"],data:function(){return{type:1,isShow:!1,title:"",item:{},types:[{value:1,title:"\u6587\u672c"},{value:2,title:"\u8111\u56fe"},{value:5,title:"\u6d41\u7a0b\u56fe"},{value:4,title:"\u76ee\u5f55"}]}},mounted:function(){this.$nextTick(function(){zen.vue.$on("showAddDocBox",this.show)})},methods:{show:function(t,e){this.item=e.data,this.title=e.data.title,this.isShow=t},add:function(){var t={content:"",title:this.item.title,type:this.type,chapterId:this.item.id,parentId:this.parent};if(this.$parent.pid&&(t.isProject="1"),4===this.type){var e={event:"edit",link:"folder",data:this.item.id,uid:zen.user.id,title:this.title};return zen.vue.$emit("chapterEvt",e),this.toggle()}zen.http(t,"/note/add.do",function(t){var e=t.data,i={event:"edit",link:e._id,data:this.item.id,type:this.type,uid:e.uid,title:this.title};zen.vue.$emit("chapterEvt",i),this.title="",this.toggle(),i={event:"doc",data:e._id},zen.vue.$emit("chapterEvt",i)},this)},toggle:function(){this.isShow=!this.isShow},keydown:function(){}}}},function(t,e,i){var n=i(136),a=i(138),s=i(149),o=i(161),r=i(163),l={1:"Editor",2:"Mind",3:"Flow",5:"Graph"},c={1:"\u6309Ctr+S \u7acb\u5373\u4fdd\u5b58\u6587\u6863",2:"\u9009\u4e2d\u8282\u70b9\uff0c\u6309enter\u952e\u6dfb\u52a0\u5b50\u8282\u70b9\uff0ctab\u952e\u6dfb\u52a0\u540c\u7ea7\u8282\u70b9",3:"\u9009\u4e2d\u8282\u70b9\uff0c\u53cc\u51fb\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f\uff0c\u6309del\u952e\u5220\u9664\u8282\u70b9",5:""};e.a={props:["itemId","nodes"],components:{Editor:n.a,Mind:a.a,Flow:s.a,Nav:r.a,Graph:o.a},data:function(){return{isShow:!1,showNav:!1,readonly:!1,emitSave:!1,timerId:1,tipMsg:"",value:null,tooltip:"",name:"Editor"}},watch:{itemId:function(t){this.init(t)}},mounted:function(){this.init(this.itemId)},methods:{init:function(t){if(!t)return this.isShow=!1;zen.http({_id:t},"/note/get.do",function(e){zen.lockBody(!0);var i=e.data;this.name=l[i.type],this.tooltip=c[i.type],this.value=i,i&&i.content||(this.readonly=!1),this.isShow=!0;var n=window.location.href;n.indexOf("docId")>-1?(n=zen.setParam("docId",t,n),window.history.replaceState(null,i.title,n)):(n=zen.setParam("docId",t,n),window.history.pushState(null,i.title,n))},this)},edit:function(){this.readonly=!this.readonly},saved:function(){"Graph"!==this.name?this.emitSave=!0:document.getElementById("J_graphIframe").contentWindow.postMessage({type:"save"},"/")},nav:function(){this.showNav=!this.showNav},close:function(){this.$parent.docId="";var t=zen.setParam("docId","");zen.lockBody(!1),window.history.replaceState(null,null,t)},tip:function(t){this.tipMsg=t,this.emitSave=!1,clearTimeout(this.timerId);var e=this;this.timerId=setTimeout(function(){e.tipMsg=""},5e3)}}}},function(t,e,i){var n=i(26);e.a={props:["value","readonly","emitSave"],data:function(){return{editor:null,isChange:!1,item:{}}},watch:{value:function(t){this.item=t},readonly:function(t){t||this.initEditor()},emitSave:function(t){t&&this.save()}},mounted:function(){this.item=this.value;var t=$(window).height()-50;$(".k-rich-content",this.$el).css("height",t+"px"),this.readonly||this.initEditor()},methods:{initEditor:function(){LazyLoad.lib(["/note/simditor.css","/note/simditor.min.js"],this.init)},init:function(){Simditor.locale="zh-CN";var t=["title","bold","italic","underline","strikethrough","fontScale","color","ol","ul","blockquote","code","table","link","image","hr","indent","outdent","alignment"],e=n.a.uploadDomain();this.editor=new Simditor({textarea:$("textarea",this.$el),placeholder:"\u8fd9\u91cc\u8f93\u5165\u6587\u5b57...",defaultImage:"//a.yimiyisu.com/kooteam/preview.png",params:{},tabIndent:!0,toolbar:t,toolbarFloat:!1,toolbarFloatOffset:37,toolbarHidden:!1,pasteImage:!0,cleanPaste:!0,allowedAttributes:{},upload:{url:e+"/upload/image.do",fileKey:"file",crossDomain:!0,xhrFields:{withCredentials:!0}}});var i=this;this.editor.uploader.on("uploadsuccess",function(t,e,i){var n=JSON.parse(i);return 4===n.action?alert("\u767b\u5f55\u5df2\u5931\u6548"):23===n.action?alert(n.message):void e.img.attr("src",n.data)}),this.editor.on("valuechanged",this.change),simple.hotkeys().add("ctrl + s",function(t){t.preventDefault(),i.save()}).add("command + s",function(t){t.preventDefault(),i.save()}),this.editor.setValue(this.item.content)},save:function(t){this.item.title||(this.item.title="\u65b0\u5efa\u6587\u7ae0\u6807\u9898"),this.item.content=this.editor.getValue();var e=0;t&&(e=15),zen.http(this.item,"/note/patch.do",function(t){this.$parent.tip(t.data)},this,e)},change:function(t,e){"oninput"===e&&this.save(!0)}}}},function(t,e,i){var n=i(11),a=i(12),s=i(1),o=i(6),r=i(139),l=i(142),c=i(144),d=i(146),u=i(4);e.a={props:["value","readonly","emitSave"],data:function(){return{current:null,paper:null,data:{id:"root",ids:1,name:"\u65b0\u5efa\u601d\u7ef4\u5bfc\u56fe",children:[],lineType:1,grapType:1,shape:1}}},components:{Node:Node,Editor:r.a,Sidebar:l.a,Tool:d.a},watch:{value:function(){this.init()},emitSave:function(t){t&&this.save()}},mounted:function(){LazyLoad.lib(["/raphael.min.js"],this.init),$(".k-mind-map",this.$el).draggable()},methods:{init:function(){var t=this.value.content;t&&(this.data=JSON.parse(t)),c.a.init(this),Raphael.fn.mindLine||(Object(n.a)(),Object(a.a)(),c.a.keyboard());var e=$(".k-mind-map",this.$el);this.paper&&this.paper.clear();var i=this.data,r=s.a.cavasSize;this.paper=Raphael(e[0],r,r),o.a.init(i,this.paper),Object(u.a)(e)},emitEditor:function(t){this.$emit("showEditor",t,this.current),t&&this.$emit("showTool",!1)},emitTool:function(t){this.$emit("showTool",t,this.current)},save:function(){if(!this.readonly){var t={_id:this.value._id,content:JSON.stringify(this.data)};zen.http(t,"/note/patch.do",function(t){this.$parent.tip(t.data)},this,4),o.a.reset(this.data,this.paper)}}}}},function(t,e,i){var n=i(2),a=i(140),s=i(1);e.a={props:["current"],data:function(){return{isShow:!1,isColor:!1,node:null,title:null,color:n.a[0],colors:[],style:"",txt:"",id:""}},mounted:function(){var t=this;this.colors=n.a,this.$parent.$on("showEditor",function(e,i){t.init(e,i)})},methods:{init:function(t,e){if(!t){if(!1===this.isShow)return;return this.isShow=!1,this.style=s.a.hideStyle}this.isShow=!0,this.id=e.id,this.isColor=!1;var i=this.$parent,n=e.attrs.x-30,a=e.attrs.y-30,o=e.getBBox().width+60,r=e.getBBox().height+60;o<150&&(o=150),r<110&&(r=110),this.style="top:"+a+"px;left:"+n+"px;width:"+o+"px;height:"+r+"px",this.txt=i.paper.getById("t_"+e.id),this.title=this.txt.attrs.text;var l=$("textarea",this.$el);this.$nextTick(function(){l.focus()})},keyup:function(t){t.stopPropagation();var e=t.keyCode,i=this.$parent;return 27===e?i.emitEditor(!1):13===e?this.save():void 0},save:function(){var t=this.$parent;if(this.txt.attrs.text!==this.title){var e=a.a.queryNodeById(this.id,t.data);if(!e)return;e.name=this.title,t.save()}t.emitEditor(!1)},colorClick:function(){this.isColor=!this.isColor},select:function(t){if(this.color!==t){this.color=t;var e=this.$parent;a.a.queryNodeById(this.id,e.data).color=t,e.save()}},click:function(t){t.stopPropagation()}}}},function(t,e,i){var n=i(6);e.a={props:["value"],data:function(){return{line:1,grap:1,lineType:{1:"\u6298\u7ebf",2:"\u66f2\u7ebf"},grapType:{1:"\u5de6\u53f3",2:"\u5411\u53f3",3:"\u5411\u5de6",4:"\u4e0a\u4e0b",5:"\u5411\u4e0b",6:"\u5411\u4e0a"}}},mounted:function(){this.line=this.value.lineType,this.grap=this.value.grapType,$(this.$el).draggable({handle:".handle"})},methods:{choseLineType:function(t){if(this.line!==t){var e=this.$parent;this.line=t,e.data.lineType=t,n.a.reset(e.data,e.paper)}},choseGrapType:function(t){if(this.grap!==t){var e=this.$parent;this.grap=t,e.data.grapType=t,n.a.reset(e.data,e.paper)}}}}},function(t,e,i){var n=i(1);e.a={data:function(){return{isShow:!1,readonly:!1,style:""}},mounted:function(){var t=this;this.$parent.$on("showTool",function(e,i){t.init(e,i)})},methods:{add:function(t){t.stopPropagation(),zen.vue.$emit("mindEvt","addNode",!0)},remove:function(t){t.stopPropagation(),zen.vue.$emit("mindEvt","removeNode",!0)},edit:function(t){t.stopPropagation(),this.$parent.emitEditor(!0)},init:function(t,e){if(!t){if(!1===this.isShow)return;return this.isShow=!1,this.style=n.a.hideStyle}this.readonly=this.$parent.readonly,this.isShow=!0;var i=e.getBBox(),a=i.y-n.a.elHeight;this.style="left:"+i.x+"px;top:"+a+"px"}}}},function(t,e,i){var n=i(16),a=i(17),s=i(18),o=i(150),r=i(152),l=i(154),c=i(5),d=i(155),u=i(4);e.a={props:["value","readonly","emitSave"],data:function(){return{nodes:{},lines:{},line:null,cuurentNode:null,tempPath:null,isDrawLine:!1,r:null,data:{nodes:[],lines:[],ids:1}}},components:{Editor:o.a,Sidebar:r.a,Tool:d.a},watch:{value:function(){this.init()},emitSave:function(t){t&&this.save()}},mounted:function(){LazyLoad.lib(["/raphael.min.js"],this.init);var t=$(".canvas",this.$el);t.draggable(),t.droppable({accept:".shape",drop:function(t,e){var i=e.offset,n=e.helper.data("name"),a=$(this).offset(),s={x:i.left-a.left,y:i.top-30-a.top,type:n};l.a.addNode(s)}})},methods:{init:function(){var t=this.value.content;t&&(this.data=JSON.parse(t)),l.a.init(this),Raphael.fn.flowLine||(Object(s.a)(),Object(a.a)(),l.a.keydown());var e=$(".canvas",this.$el);this.r&&this.r.clear(),this.r=Raphael(e[0],c.a.cavasSize,c.a.cavasSize),n.a.init(this.data,this.r,this),Object(u.a)(e)},emitEditor:function(t,e){this.$emit("showEditor",t,e)},emitTool:function(t){this.$emit("showTool",t,this.currentNode)},rerenderLines:function(t){for(var e=this.data.lines,i=[],n=void 0,a=void 0,s=0;s<e.length;s++)(a=e[s]).start!==t&&a.end!==t||i.push(a);if(0!==e.length)for(var o=void 0,r=void 0,l=void 0,c=0;c<i.length;c++)l=(n=i[c]).start+"-"+n.end,o=this.nodes[n.start],r=this.nodes[n.end],this.r.flowLine({from:o,to:r},this.lines[l])},getNode:function(t){for(var e=this.data.nodes,i=0;i<e.length;i++)if(e[i].id===t)return e[i];return null},save:function(){if(!this.readonly){var t={_id:this.value._id,content:JSON.stringify(this.data)};zen.http(t,"/note/patch.do",function(t){this.$parent.tip(t.data)},this,4)}}}}},function(t,e,i){function n(t,e){for(var i=t.split("-"),n=e.data.lines,a=void 0,s=0;s<n.length;s++)if((a=n[s]).start===i[0]&&a.end===i[1])return a;return null}var a=i(2),s=i(5);e.a={data:function(){return{isShow:!1,isColor:!1,isNode:!0,id:"",title:"",color:a.a[0],colors:[],style:""}},mounted:function(){var t=this;t.colors=a.a,t.$parent.$on("showEditor",function(e,i){t.init(e,i)})},methods:{init:function(t,e){if(!t){if(!this.isShow)return;return this.style=s.a.hideStyle,this.isShow=!1}this.isShow=!0,this.id=e.data("id");var i=this.$parent,a=e.getBBox(),o=void 0,r=void 0,l=void 0,c=void 0,d=void 0;this.id.indexOf("-")>-1?(this.isNode=!1,o=n(this.id,i),r=100,l=60,d=a.y+(a.height-l)/2,c=a.x+(a.width-r)/2):(this.isNode=!0,o=i.getNode(this.id),r=a.width<100?100:a.width,l=a.height<60?60:a.height,r+=20,l+=20,c=a.x-10,d=a.y-10),this.title=o.text,this.style="left:"+c+"px;top:"+d+"px;width:"+r+"px;height:"+l+"px";var u=$("textarea",this.$el);this.$nextTick(function(){u.focus()})},save:function(){if(this.title){var t=this.$parent;if(this.isNode){var e=t.getNode(this.id);e.text=this.title,t.r.flowNode(e,t.nodes[this.id])}else{var i=n(this.id,t);if(!i)return;i.text=this.title,t.r.flowLine({from:t.nodes[i.start],to:t.nodes[i.end],text:i.text},t.lines[this.id])}t.save(),t.emitEditor(!1)}},keydown:function(t){var e=t.keyCode;if(27===e)return this.$parent.emitEditor(!1);13===e&&(t.ctrlKey||t.metaKey)&&this.save()},colorClick:function(){this.isColor=!this.isColor},select:function(t){if(t!==this.color){this.color=t;var e=this.$parent,i=e.nodes[this.id],n=e.getNode(this.id);i.attr({fill:t,stroke:t}),n.color=t,this.isColor=!1,e.save(),e.emitEditor(!1)}}}}},function(t,e,i){var n=i(7);e.a={data:function(){return{isMove:!1,circlePath:"",rectPath:"",angle4Path:"",ellipsePath:"",documentPath:"",stepPath:""}},mounted:function(){$(".shape",this.$el).draggable({appendTo:".canvas",helper:"clone"}),$(this.$el).draggable({handle:".handle"}),this.rectPath=n.a.get("rect",10,40,40,24,!0),this.circlePath=n.a.get("circle",10,35,36,36,!0),this.angle4Path=n.a.get("angle4",10,35,36,36,!0),this.ellipsePath=n.a.get("ellipse",10,35,40,24,!0),this.documentPath=n.a.get("document",10,30,40,24,!0),this.stepPath=n.a.get("step",10,25,40,24,!0)}}},function(t,e,i){e.a={remove:function(t){for(var e=t.currentNode,i=t.data.nodes,n=t.data.lines,a=e.data("id"),s=void 0,o=void 0,r=0;r<i.length;r++)if(i[r].id===a){i.splice(r,1);for(var l=0;l<n.length;l++)(s=n[r]).start!==a&&s.end!==a||(n.splice(l,1),o=s.start+"-"+s.end,t.lines[o].remove())}t.save()},add:function(t,e){e.data.ids++;var i="i"+e.data.ids;t.id=i,t.text="",e.nodes[i]=e.r.flowNode(t),e.data.nodes.push(t),e.save()}}},function(t,e,i){var n=i(156),a=i(157),s=i(158),o=i(52),r=i(5);e.a={data:function(){return{isShow:!1,startPoint:null,showOp:!1,style:""}},mounted:function(){var t=this;t.$parent.$on("showTool",function(e,i){t.init(e,i)}),$(".line",this.$el).draggable({helper:"clone",start:function(e,i){t.addLineStart(i)},drag:function(e,i){t.addLinedrag(i)},stop:function(e,i){t.addLineDragFinish(i)}}),$(this.$el).draggable({drag:function(e,i){t.nodeDrag(i)},stop:function(){t.nodeDragFinish()}}),$(this.$el).resizable({handles:"all",minHeight:48,minWidth:48,autoHide:!0,resize:function(e,i){t.resize(i)},stop:function(){t.resizeFinish()}})},methods:{addLineStart:function(t){s.a.start(t,this.$parent)},addLinedrag:function(t){var e=this.$parent;e.isDrawLine=!0,s.a.moving(t,e)},addLineDragFinish:function(t){var e=this.$parent;s.a.finish(t,e),e.isDrawLine=!1},nodeDrag:function(t){n.a.moving(t,this.$parent)},nodeDragFinish:function(){n.a.finish(this.$parent)},resize:function(t){a.a.moving(t,this.$parent)},resizeFinish:function(){a.a.finish(this.$parent)},dblclick:function(){var t=this.$parent;return t.emitEditor(!0,t.currentNode)},right:function(){this.showOp=!0},op:function(t){this.showOp=!1;var e=this.$parent;return"remove"===t?o.a.remove(e):"edit"===t?this.dblclick():void 0},init:function(t,e){if(!t){if(!this.isShow)return;return this.style=r.a.hideStyle,this.isShow=!1}this.showOp=!1,this.isShow=!0;var i=e.getBBox();this.style="left:"+i.x+"px;top:"+i.y+"px;width:"+i.width+"px;height:"+i.height+"px"}}}},function(t,e,i){e.a={props:["value"],watch:{value:function(){this.changeData()}},mounted:function(){var t=this;window.addEventListener("message",function(e){var i=e.data;"graphLoad"===i.type&&t.changeData(),"xmlsave"===i.type&&t.$parent.tip("\u4fdd\u5b58\u5b8c\u6210")},!1)},methods:{changeData:function(){var t=document.getElementById("J_graphIframe"),e=this.value,i={type:"load",content:e.content,id:e._id};t.contentWindow.postMessage(i,"/")}}}},function(t,e,i){e.a={props:["value","current"],name:"Nav",methods:{selected:function(t){if(!t.link)return alert(t.title+"\u6587\u6863\u5c1a\u672a\u521b\u5efa");if("folder"!==t.link){var e={event:"doc",data:t.link};zen.vue.$emit("chapterEvt",e)}}}}},function(t,e,i){e.a={props:["note","permision"],data:function(){return{def:"1",users:[],current:{},searchTag:!1}},watch:{def:function(){var t={_id:this.note,permision:this.def};zen.http(t,"/note/patch.do",function(e){this.$parent.chapterData.public=t.permision},this)}},mounted:function(){this.def=this.permision,this.loadData()},methods:{cancel:function(){this.searchTag=!1},select:function(){var t={noteId:this.note,permision:2,uid:this.current.uid};t.uid&&zen.http(t,"/note/addUser.do",function(t){this.searchTag=!1,this.loadData()},this)},showSearch:function(){this.searchTag=!0},close:function(){this.$parent.showSet=!1},remove:function(t){zen.http({_id:t._id,noteId:this.note},"/note/removeUser.do",function(t){this.loadData()},this)},loadData:function(){zen.http({noteId:this.note},"/note/users.do",function(t){this.users=t.data},this)}}}},function(t,e,i){e.a={data:function(){return{data:[],current:null,total:0}},mounted:function(){zen.http(null,"/note/my.do",function(t){var e=t.data;this.data=e.data,this.total=t.total,this.load()||(this.$parent.value=this.data[0])},this)},methods:{select:function(t){if(this.current!==t._id){this.current=t._id,this.$parent.value=t;var e=zen.setParam("rid",t._id);window.history.replaceState(null,null,e)}},load:function(){var t=zen.getParam("rid");return!!t&&(this.current=t,zen.http({_id:t},"/get/note.json",function(t){this.$parent.value=t.data},this),!0)}}}},function(t,e,i){e.a={data:function(){return{show:!1}},methods:{click:function(){this.show=!this.show}}}},function(t,e,i){var n=i(175),a=i(177);e.a={props:["value"],data:function(){return{scales:[],things:[],length:180,isShow:!1,now:{},time:0,start:{}}},components:{Scale:n.a,Thing:a.a},mounted:function(){this.projectId=zen.getParam("id"),zen.http({projectId:this.projectId},"/select/thingByprojectId.json",function(t){t.data&&(this.things=t.data.data)},this),this.initScale(),this.$nextTick(function(){this.startPosition()})},methods:{add:function(){this.isShow=!0},addThing:function(t){t.start=0,t.end=0,this.things.unshift(t)},startPosition:function(){$("#J_wrap").scrollLeft(2520)},initScale:function(){var t=-parseInt(this.length/3),e=new Date,i=void 0;this.time=parseInt(e.getTime()/1e3),this.now=this.createScale(e),e.setDate(t);for(var n=0;n<this.length;n++)e.setDate(e.getDate()+1),i=this.createScale(e),0===n?this.start=i:this.scales.push(i)},createScale:function(t){var e=void 0,i=void 0,n=void 0;return i=t.getDate(),e={date:null,month:t.getMonth()+1,text:null,isWeekend:!1,isFirst:!1},e.date=t.getFullYear()+"-"+e.month+"-"+i,1===i?(e.isFirst=!0,e.text=e.month+"\u6708"):(i<10&&(i="0"+i),e.text=i),0!==(n=t.getDay())&&6!==n||(e.isWeekend=!0),e}}}},function(t,e,i){e.a={props:["data","start"],data:function(){return{list:[]}},created:function(){}}},function(t,e,i){e.a={props:["scales","value","length","start","time"],data:function(){return{data:{},lefe:0,width:0,css:""}},created:function(){this.data=this.value,this.left=45*(Math.floor((this.data.start-this.time)/86400)+60),this.width=45*(this.data.end-this.data.start)/86400,this.css="left:"+this.left+"px;width:"+this.width+"px"},mounted:function(){var t=$(".scale",this.$el),e=this;t.resizable({grid:[45,0],handles:"e",stop:function(t,i){var n=i.size.width;e.save(e.left,n)}}),t.draggable({grid:[45,0],axis:"x",stop:function(t,i){var n=i.position.left;e.save(n,e.width)}})},methods:{addDate:function(t){if($(this.$el).hasClass("empty")){var e=45*(t+1);this.data.start=86400*(t-59)+this.time,this.css="left:"+e+"px;width:45px",this.save(e,45)}},mousedown:function(t){2===t.button&&(t.preventDefault(),t.stopPropagation())},show:function(){zen.vue.$emit("thingDetail",this.data)},save:function(t,e){this.left=t,this.width=e;var i=86400*(t/45-60)+this.time;isNaN(i)||(this.data.start=i,this.data.end=e/45*86400+i,zen.http(this.data,"/thing/patch.do",function(){},this))}}}},function(t,e,i){var n=i(32);e.a={props:["value","visible","isCal"],data:function(){return{quadrant:"a",title:"",user:{},isShow:!1,item:{quadrant:"a"}}},components:{Priority:n.a},watch:{user:function(t){this.user=t,this.isShow=!1}},created:function(){var t=zen.user;this.user={userId:t.id,nick:t.nick}},methods:{close:function(){this.isCal&&this.$parent.addThing(null),this.$parent.isShow=!1},show:function(){this.isShow=!0},blur:function(){this.isShow=!1},submit:function(){if(!this.title)return alert("\u5f85\u529e\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a");var t={quadrant:this.item.quadrant,title:this.title,projectId:"",onwer:this.user.userId,tag:""};if(this.isCal){var e=parseInt(this.value.start._d.getTime()/1e3),i=parseInt(this.value.end._d.getTime()/1e3);t.start=e;var n=i-e;(n>86400||n<43200)&&(t.end=i)}this.$parent.projectId&&(t.projectId=this.$parent.projectId),zen.http(t,"/thing/put.do",function(e){t._id=e.data._id,this.$parent.addThing(t),this.close(),this.title=""},this)},select:function(t){this.quadrant=t}}}},function(t,e,i){e.a={props:["timer","showTip","type"],data:function(){return{timerId:null,isDD:!1,checkId:null,isShow:!1}},mounted:function(){if(this.type&&(this.isDD=!0,this.timer&&zen.http(null,"/ding/qr.do",function(t){var e=$(".qr",this.$el),i=t.data,n=i.host+"/ding/home.wap?checkId="+i.checkId;new QRCode(e[0],{width:150,height:150}).makeCode(n),this.checkId=i.checkId},this)),this.timer){var t=this;this.timerId=setInterval(function(){t.login()},1e3*this.timer)}else this.login()},destroyed:function(){clearInterval(this.timerId)},methods:{login:function(){var t=$("#J_qrId").val(),e=void 0;if(this.isDD)e="/ding/checkLogin.do";else{var i="//bridge.kooteam.com";"daily"===zen.env&&(i="//bridge.dev.zeto.me"),e=i+"/weixin/checkLogin.do"}zen.http({id:t},e,function(t){if(!t.hasError){this.timerId&&(clearInterval(this.timerId),this.timerId=null);var e=window.localStorage.config,i="/todo/home.htm";e&&e.home&&(i=(e=JSON.parse(e)).home),window.location=i}},this)}}}},function(t,e,i){var n=i(38),a=i(10);e.a={data:function(){return{isLoad:!1,id:null,data:{}}},components:{Editor:n.a},mounted:function(){this.id=zen.getParam("id"),zen.http({id:this.id},"/project/chapter.do",function(t){var e=t.data;e.content?this.content=JSON.parse(e.content):this.content=a.a.initData(),this.data={_id:this.id,title:e.title+"-\u6587\u6863"},this.isLoad=!0},this)},methods:{save:function(t,e,i){if(void 0===i&&(i=3),!t)return!1;var n={_id:this.id,content:JSON.stringify(e)};zen.http(n,"/project/saveDoc.do",function(t){0===i&&zen.notice(t.data,"success")},this,i)}}}},function(t,e,i){var n=i(188),a=i(193),s=i(195);e.a={props:["value"],data:function(){return{projectId:"",now:0,data:{},columns:[]}},watch:{value:function(){this.init()}},components:{Column:n.a,Add:a.a},mounted:function(){this.init()},destroyed:function(){zen.lockBody(!1)},methods:{hideUserSearch:function(){this.$emit("hideUserSearch",!0)},init:function(){var t=this;this.projectId=zen.getParam("id");var e=new Date,i=this.value;if(this.now=e.getTime()%1e3,i.board){var n=JSON.parse(i.board);this.rndId=n.id,this.columns=n.content}else this.rndId=zen.id++,this.columns=s.a;var a=310*this.columns.length+360;$(".k-board-detail",this.$el).css("width",a+"px");for(var o=0;o<this.columns.length;o++)this.columns[o].sons=[];var r=i.things;r&&0!==r.length&&(r.forEach(function(e){var i=t.getColumn(e.tag);1===e.status?i.sons.push(e):i.sons.unshift(e)}),"\u672a\u5f52\u7c7b"===this.columns[0].tag&&0===this.columns[0].length&&this.columns.splice(0,1),this.$nextTick(function(){zen.lockBody(!0);var t=$(window).height()-150;t<680&&$("#J_app .k-project-toolbar").css("min-height",t+"px"),$(".column",this.$el).css("height",t+"px"),this.resize()}))},resize:function(){var t=300*(this.columns.length+2)+20;$(".k-board-detail",this.$el).css("width",t+"px")},getColumn:function(t){for(var e=void 0,i=0;i<this.columns.length;i++)if((e=this.columns[i]).tag===t)return e;if("\u672a\u5f52\u7c7b"===this.columns[0].tag)return this.columns[0];var n={tag:"\u672a\u5f52\u7c7b",title:"\u672a\u5f52\u7c7b",sons:[]};return this.columns.unshift(n),this.columns[0]},save:function(){var t={id:this.rndId,content:[]};this.columns.forEach(function(e){t.content.push({title:e.title,tag:e.tag,sons:[]})});var e={_id:this.projectId,board:JSON.stringify(t)};zen.http(e,"/patch/project.json",function(){this.resize()},this)}}}},function(t,e,i){var n=i(9),a=i(189);e.a={props:["data","now"],components:{Thing:n.a,AddThing:a.a},data:function(){return{currentId:"",title:"",isAddThing:!1,isEdit:!1,showAction:!1}},mounted:function(){var t=this,e=$(this.$el);e.draggable({helper:"clone",handle:".h4",opacity:.9,zIndex:10}),$(e).droppable({accept:".column",cancel:".k-thing",classes:{"ui-droppable-hover":"draghover"},drop:function(e,i){for(var n=i.helper.data("id"),a=$(e.target).data("id"),s=t.$parent.columns,o=void 0,r=0;r<s.length;r++)if(s[r].tag===n){r,o=s.splice(r,1)[0];break}for(var l=0;l<s.length;l++)if(s[l].tag===a){s.splice(l,0,o);break}t.$parent.save()}}),$(".things",e).droppable({accept:".k-thing",classes:{"ui-droppable-hover":"draghover"},start:function(t,e){t.stopPropagation()},drop:function(e,i){e.stopPropagation();var n=i.helper.data("id"),a=$(e.target).data("id");if(t.currentId===n)return t.currentId="";t.exchange(n,a,!0)}})},methods:{blur:function(){this.showAction=!1},add:function(){this.isAddThing=!0,this.$nextTick(function(){$("input",this.$el).focus()})},focus:function(){this.showAction=!0,this.$nextTick(function(){$(".action",this.$el).focus()})},renameClk:function(){this.isEdit=!0,this.$nextTick(function(){$("input",this.$el).focus()})},keyup:function(t){var e=t.keyCode;if(27===e)return this.blur();13===e&&this.rename(t)},rename:function(t){var e=$(t.currentTarget).val(),i=this.$parent.columns;if(e&&(this.isEdit=!1,e!==this.data.title)){for(var n=0;n<i.length;n++)i[n].tag===this.data.tag&&(i[n].title=e);this.$parent.save()}},exchange:function(t,e,i){for(var n=void 0,a=void 0,s=void 0,o=this.$parent.columns,r={},l=this,c=0;c<o.length;c++){for(n=o[c],a=0;a<n.sons.length;a++)if(n.sons[a]._id===t){s=n.sons.splice(a,1)[0];break}if(s)break}if(i)n=l.$parent.getColumn(e),s.tag=e,n.sons.push(s);else for(n=l.$parent.getColumn(e.tag),a=0;a<n.sons.length;a++)if(n.sons[a]._id===e._id){s.order=e.order+1,s.tag=e.tag,n.sons.splice(a,0,s);break}r._id=s._id,r.tag=s.tag,r.order=s.order,zen.http(r,"/thing/patch.do",function(t){},this)},remove:function(){if(confirm("\u786e\u5b9a\u5220\u9664\u5417\uff1f")){for(var t=this.$parent.columns,e=void 0,i=0;i<t.length;i++)if((e=t[i]).tag===this.data.tag){e=t.splice(i,1)[0];break}this.$parent.save(),e.sons.length>0&&t.length>0&&zen.refresh()}}}}},function(t,e,i){var n=i(190);e.a={props:["data"],data:function(){return{title:"",owner:null,uid:"",nick:"",prority:"",prorityData:n.a,isShow:!1}},watch:{owner:function(t){this.nick=t.nick,this.uid=t.userId,this.isShow=!1}},mounted:function(){this.nick="\u6211\u81ea\u5df1",this.uid=zen.user.id,this.$parent.$parent.$on("hideUserSearch",this.userBlur)},methods:{userShow:function(){this.isShow=!0},userBlur:function(){this.isShow&&(this.isShow=!1)},select:function(t,e){t.key!==this.prority&&(this.prority=t.key,$(".k-prority",this.$el).removeClass("active"),$(e.currentTarget).addClass("active"))},save:function(){var t=this.$parent.$parent;if(!this.title)return alert("\u4efb\u52a1\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a");var e={title:this.title,tag:this.data.tag,projectId:t.projectId,quadrant:"b",status:0};this.prority&&(e.quadrant=this.prority),this.owner&&(e.owner=this.owner.userId),zen.http(e,"/thing/put.do",function(i){var n=i.data,a=t.columns;e._id=n._id;for(var s=0;s<a.length;s++)a[s].tag===e.tag&&a[s].sons.unshift(e);this.close()},this)},close:function(){this.$parent.isAddThing=!1}}}},function(t,e,i){e.a={data:function(){return{title:"",isEdit:!1}},methods:{focus:function(){this.isEdit=!0,this.$nextTick(function(){$("input",this.$el).focus()})},cancel:function(){this.isEdit=!1},keyup:function(t){var e=t.keyCode;if(27===e)return this.cancel();13===e&&this.save()},save:function(){if(!this.title)return alert("\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a");var t=this.$parent;t.rndId++;var e={title:this.title,tag:"t"+t.rndId,sons:[]};t.columns.push(e),this.title="",this.cancel(),t.save()}}}},function(t,e,i){e.a={props:["name","max","value","my","fixed"],data:function(){return{keyword:"",loaded:!1,uid:"",history:{},localApp:!0,users:[]}},watch:{keyword:function(){this.load()}},mounted:function(){this.localApp=!!window.localApp;var t=window.localStorage.userCache;t&&(this.history=JSON.parse(t));for(var e in this.history){var i={uid:e,nick:this.history[e]};this.users.push(i)}if(this.my){var n={uid:zen.user.id,nick:"\u6211\u81ea\u5df1"};this.users.unshift(n)}},methods:{stop:function(){},err:function(t){$(t.currentTarget).attr("src","https://img.yimiyisu.com/avator.jpg")},select:function(t,e){e.stopPropagation();var i=$(e.currentTarget);i.hasClass("selected")?(i.removeClass("selected"),this.uid="",this.$emit("input",null)):($(".selected",this.$el).removeClass("selected"),i.addClass("selected"),this.uid=t.uid,this.uid!==zen.user.id&&(this.history[t.uid]=t.nick),window.localStorage.userCache=JSON.stringify(this.history),this.$emit("input",t))},load:function(){zen.http({keyword:this.keyword,size:6},"/user/searchFriend.do",function(t){if(t.data?this.users=t.data:this.users=[],this.loaded=!0,this.my){var e=zen.user,i={_id:"my",uid:e.id,nick:e.nick};this.users.unshift(i)}},this)}}}},function(t,e,i){var n=i(200),a=i(202),s=i(204),o=i(206),r=i(208);e.a={props:["name","value"],components:{skin:n.a,logout:a.a,things:s.a,set:o.a,menus:r.a}}},function(t,e,i){e.a={props:["value"],data:function(){return{imgs:[1,2,3,4,5,6,7,8,9,10],def:3}},mounted:function(){this.value&&(this.def=this.value)},methods:{select:function(t){this.def=t;var e="//a.yimiyisu.com/kooteam/bg/"+t+".jpg";$("body").css("background-image","url('"+e+"')")}}}},function(t,e,i){e.a={mounted:function(){var t="//bridge.kooteam.com";"daily"===zen.env&&(t="//bridge.dev.zeto.me");var e=t+"/home/logout.do";zen.user.isLocal&&(e="/home/quit.do"),zen.http(null,e,function(){window.localStorage.removeItem("config"),document.cookie="",window.location="/home.html"})}}},function(t,e,i){var n=i(9);e.a={props:["value"],components:{Thing:n.a},data:function(){return{list:[],now:0}},created:function(){var t=new Date;this.now=t.getTime()%1e3}}},function(t,e,i){e.a={methods:{save:function(t){var e=t.data;zen.user.calendar=e.calendar,zen.user.home=e.home,window.localStorage.config=""}}}},function(t,e,i){e.a={data:function(){return{current:"",isRoot:!1,mode:0,menus:[{icon:"",href:"",title:""}]}},mounted:function(){"root"===zen.user.username&&(this.isRoot=!0),this.mode=zen.user.mode,this.$nextTick(function(){var t=window.location.pathname;$("li",this.$el).each(function(){var e=$(this);e.data("href")===t&&e.addClass("active")})})},methods:{jump:function(t){var e=$(t.currentTarget);e.hasClass("active")||zen.goto(e.data("href"))}}}},function(t,e,i){var n=i(212);e.a={props:["name","value"],components:{action:n.a}}},function(t,e,i){e.a={props:["value"],data:function(){return{id:"",isOnwer:!1}},mounted:function(){this.id=this.value._id;var t=zen.user.id;this.value.owner===t&&(this.isOnwer=!0)},methods:{click:function(t){t.stopPropagation()}}}},function(t,e,i){var n=i(216),a=i(218);e.a={props:["name","value"],components:{login:n.a,employee:a.a}}},function(t,e,i){e.a={mounted:function(){dd.ready(function(){dd.runtime.permission.requestAuthCode({corpId:"ding757b036387e60579",onSuccess:function(t){},onFail:function(t){}})})}}},function(t,e,i){e.a={}},function(t,e,i){var n=i(222),a=i(224);e.a={props:["check","timer"],components:{Password:n.a,QR:a.a},data:function(){return{isQr:!1,hasQr:!1,params:null,target:"/todo/home.htm",timerId:null}},mounted:function(){this.check?this.status():zen.http(null,"/login/type.do",function(t){var e=t.data;this.params=e,e.qr&&(this.isQr=!0,this.hasQr=!0,this.timerId=setInterval(this.checkId,2e3))},this)},destory:function(){clearInterval(this.timerId)},methods:{change:function(){this.isQr=!this.isQr},checkId:function(){var t=this.params.checkId;t&&zen.http({checkId:t},"/login/checkId.do",function(t){t.hasError||(window.location.href=this.target)},this)},status:function(){zen.http(null,"/login/checkStatus.do",function(t){if(!t.hasError){var e=this.target,i=t.data;i.home&&(e=i.home),window.location=e}},this)}}}},function(t,e,i){e.a={props:["value","target"],data:function(){return{user:"",pwd:""}},mounted:function(){},methods:{submit:function(){zen.http({user:this.user,pwd:this.pwd},"/login/checkPwd.do",function(t){t.hasError||(window.location=this.target)},this)}}}},function(t,e,i){e.a={props:["value"],mounted:function(){var t=$(".qr",this.$el),e=this.value,i=e.host+"?checkId="+e.checkId;new QRCode(t[0],{width:150,height:150}).makeCode(i)}}},,,,,,,,,,,,function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(96),a=i(103),s=i(124),o=i(127),r=i(172),l=i(174),c=i(180),d=i(182),u=i(184),h=i(185),v=i(187),f=i(197),p=i(199),m=i(211),g=i(215),_=i(221);Object(u.a)(),Vue.component("k-doc",o.a),Vue.component("k-project-doc",h.a),Vue.component("k-board",v.a),Vue.component("k-doc-search",r.a),Vue.component("k-check-login",d.a),Vue.component("k-calendar",s.a),Vue.component("k-todo",n.a),Vue.component("k-todo-add",c.a),Vue.component("k-todo-detail",a.a),Vue.component("k-plan",l.a),Vue.component("k-user-search",f.a),Vue.component("k-system",p.a),Vue.component("k-project",m.a),Vue.component("k-ding",g.a),Vue.component("k-login",_.a)},function(t,e,i){var n=i(19),a=i(102),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(20),a=i(101),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(21),a=i(99),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header z-row"},[i("div",{staticClass:"z-col"},[i("i",{staticClass:"z-icon flag"},[t._v("\ue153")]),t._v(t._s(t.name)+"\n    ")]),t._v(" "),i("div",{staticClass:"z-1",class:{active:t.active}},[i("label",{on:{click:t.show}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text",maxlength:"60",placeholder:"\u8bf7\u5728\u8fd9\u91cc\u8f93\u5165\u9700\u8981\u5904\u7406\u7684\u4e8b\u9879"},domProps:{value:t.text},on:{blur:t.hide,keyup:t.keyup,input:function(e){e.target.composing||(t.text=e.target.value)}}})]),t._v(" "),i("i",{staticClass:"z-icon close",on:{click:t.show}})])])},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:2!==t.item.status,expression:"item.status !== 2"}],staticClass:"k-thing",class:{finish:t.item.status},attrs:{"data-id":t.item._id},on:{click:t.detail}},[i("label",{attrs:{"data-id":t.item._id},on:{click:function(e){return e.stopPropagation(),t.doFinish(e)}}},[i("i",{staticClass:"z-icon"})]),t._v(" "),i("div",[t._v(t._s(t.item.title))]),t._v(" "),t.item.finish<t.now?i("span",[t._v("\u5ef6\u671f"+t._s(t._f("time")(t.item.finish)))]):t._e()])},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"z-12",class:t.things.tag},[i("Title",{attrs:{quadrant:t.things.tag,name:t.things.title}}),t._v(" "),i("div",{staticClass:"block",attrs:{"data-id":t.things.tag}},t._l(t.things.sons,function(e){return i("Thing",{key:e._id,attrs:{data:e,now:t.now,drag:"qu"}})}))],1)},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"k-todo z-row"},t._l(t.data,function(e){return i("Quadrant",{key:e.tag,attrs:{data:e,now:t.now}})}))},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(23),a=i(123),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(24),a=i(105),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"k-thing-comment"},[t._m(0),t._v(" "),0===t.commentsData.length?i("div",{staticClass:"empty"},[i("i",{staticClass:"z-icon"},[t._v("\ue24e")]),t._v("\u6682\u65e0\u8bc4\u8bba")]):t._e(),t._v(" "),t._l(t.commentsData,function(e,n){return i("div",{staticClass:"comment"},[i("div",{staticClass:"header z-row"},[i("div",{staticClass:"z-8"},[t._v(t._s(e.nick))]),t._v(" "),i("div",{staticClass:"z-16"},[t.myId===e.uid?i("span",{staticClass:"delete",on:{click:function(e){t.remove(n)}}},[t._v("\u5220\u9664")]):t._e(),t._v(" "),i("span",[t._v(t._s(t._f("idate")(e._id)))])])]),t._v(" "),i("div",{staticClass:"content"},[t._v(t._s(e.content))])])})],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header z-row"},[i("div",{staticClass:"z-6"},[i("i",{staticClass:"z-icon"},[t._v("\ue53b")]),t._v("\u52a8\u6001\n        ")]),t._v(" "),i("div",{staticClass:"z-18"})])}]};e.a=n},function(t,e,i){var n=i(25),a=i(107),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this;t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"describe"},[i("textarea")])}]};e.a=n},function(t,e,i){var n=i(27),a=i(109),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"k-todo-owner"},[i("span",{staticClass:"nick",on:{click:function(e){return e.stopPropagation(),t.show(e)}}},[t._v(t._s(t.name))])])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(28),a=i(111),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this;t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sub-thing"},[i("h4",[i("i",{staticClass:"z-icon"},[t._v("\ue8d2")]),t._v("\u5b50\u4efb\u52a1")])])}]};e.a=n},function(t,e,i){var n=i(29),a=i(115),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(30),a=i(114),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"repeat"},[i("div",{staticClass:"repeat-type"},[t._v("\n        \u91cd\u590d\u65b9\u5f0f\n        "),i("span",[t._v("\n            "+t._s(t.repeats[t.repeatType])+"\n            "),i("ul",t._l(t.repeats,function(e,n){return i("li",{key:n,on:{click:function(e){t.change(n)}}},[t._v(t._s(e))])}))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.repeatType,expression:"repeatType===1"}],staticClass:"weeks"},t._l(t.weeks,function(e,n){return i("span",{key:n,class:{active:t.weekSelected.indexOf(n)>-1},on:{click:function(e){t.selectWeek(n,e)}}},[t._v("\n                    "+t._s(e)+"\n                ")])})),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.repeatType,expression:"repeatType===2"}],staticClass:"days"},t._l(t.days,function(e,n){return i("span",{key:n,class:{active:t.daySelected.indexOf(n)>-1},on:{click:function(e){t.selectDay(n,e)}}},[t._v("\n                    "+t._s(e)+"\n                ")])})),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"repeat-time"},[i("input",{staticClass:"J_calendar-2",attrs:{type:"text",placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4\u70b9"}})])}]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"k-todo-plan"},[i("label",{on:{click:t.show}},[t._v("\n        "+t._s(t.text)+"\n    ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"calendar"},[i("div",{staticClass:"z-row"},[i("div",{staticClass:"z-12 modal"},[i("div",{staticClass:"day"},[i("span",{class:{active:t.modal<4},on:{click:function(e){t.changeModal(1)}}},[t._v("\u5355\u65e5")])]),t._v(" "),i("span",{class:{active:4===t.modal},on:{click:function(e){t.changeModal(4)}}},[t._v("\u91cd\u590d")])]),t._v(" "),i("div",{staticClass:"z-12"},[i("div",{staticClass:"operator"},[i("span",{staticClass:"z-button small",on:{click:t.close}},[t._v("\u53d6\u6d88")]),t._v(" "),i("span",{staticClass:"z-button small primary",on:{click:t.submit}},[t._v("\u786e\u5b9a")])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.modal<4,expression:"modal<4"}]},[i("div",{staticClass:"J_calendar"})]),t._v(" "),t.cal?i("Repeat",{directives:[{name:"show",rawName:"v-show",value:4===t.modal,expression:"modal===4"}],on:{choseRepeat:t.choseRepeat},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}):t._e()],1)])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(31),a=i(117),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"k-todo-tag"},[i("label",{on:{click:t.show}},[t._v("\u5f85\u6dfb\u52a0")]),t._v(" "),t.isShow&&t.isEdit?i("div",{staticClass:"tags"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newText,expression:"newText"}],attrs:{type:"text",placeholder:"\u8bf7\u8f93\u5165\u6807\u7b7e\u540d\u79f0"},domProps:{value:t.newText},on:{input:function(e){e.target.composing||(t.newText=e.target.value)}}}),t._v(" "),i("div",{staticClass:"tag"},t._l(t.colors,function(e,n){return i("span",{style:"background:"+e,on:{click:function(e){t.selectColor(n)}}},[t.newColor===n?i("i",{staticClass:"z-icon"},[t._v("\ue5ca")]):t._e()])})),t._v(" "),i("div",{staticClass:"operator"},[i("span",{staticClass:"z-button small",on:{click:t.cancel}},[t._v("\u53d6\u6d88")]),t._v(" "),i("span",{staticClass:"z-button primary small",on:{click:t.newTag}},[t._v("\u786e\u5b9a")])])]):t._e(),t._v(" "),t.isShow&&!t.isEdit?i("div",{staticClass:"tags"},[i("div",{staticClass:"tag"},t._l(t.tags,function(e,n){return i("span",{style:"background:"+e.color,on:{click:function(e){t.selectTag(n)}}},[t._v(t._s(e.text))])})),t._v(" "),i("div",{staticClass:"operator"},[i("span",{staticClass:"z-button small",on:{click:t.editModal}},[t._v("\u65b0\u589e")]),t._v(" "),i("span",{staticClass:"z-button small",on:{click:t.close}},[t._v("\u53d6\u6d88")]),t._v(" "),i("span",{staticClass:"z-button small primary",on:{click:t.addTag}},[t._v("\u786e\u5b9a")])])]):t._e()])},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("label",{directives:[{name:"tip",rawName:"v-tip",value:"\u91cd\u8981\u4e14\u7d27\u6025",expression:"'\u91cd\u8981\u4e14\u7d27\u6025'"}],staticClass:"k-prority a",class:{active:"a"===t.thing.quadrant},on:{click:function(e){t.select("a")}}}),t._v(" "),i("label",{directives:[{name:"tip",rawName:"v-tip",value:"\u91cd\u8981\u4e0d\u7d27\u6025",expression:"'\u91cd\u8981\u4e0d\u7d27\u6025'"}],staticClass:"k-prority b",class:{active:"b"===t.thing.quadrant},on:{click:function(e){t.select("b")}}}),t._v(" "),i("label",{directives:[{name:"tip",rawName:"v-tip",value:"\u7d27\u6025\u4e0d\u91cd\u8981",expression:"'\u7d27\u6025\u4e0d\u91cd\u8981'"}],staticClass:"k-prority c",class:{active:"c"===t.thing.quadrant},on:{click:function(e){t.select("c")}}}),t._v(" "),i("label",{directives:[{name:"tip",rawName:"v-tip",value:"\u4e0d\u91cd\u8981\u4e0d\u7d27\u6025",expression:"'\u4e0d\u91cd\u8981\u4e0d\u7d27\u6025'"}],staticClass:"k-prority d",class:{active:"d"===t.thing.quadrant},on:{click:function(e){t.select("d")}}})])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(34),a=i(120),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"k-comment-post"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"input",attrs:{placeholder:"\u6309\u56de\u8f66\u5065\u53d1\u9001\u8bc4\u8bba",type:"text"},domProps:{value:t.text},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submitComment(e):null},input:function(e){e.target.composing||(t.text=e.target.value)}}})])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(35),a=i(122),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"clock"},[0===t.selected.length?i("span",[t._v("\u5f85\u8bbe\u7f6e")]):t._e(),t._v(" "),t._l(t.selected,function(e,n){return i("span",{key:e},[t._v(t._s(t.options[e].name))])}),t._v(" "),i("ul",t._l(t.options,function(e){return i("li",{class:{active:e.checked},on:{click:function(i){t.select(e.value)}}},[t._v(t._s(e.name))])}))],2)},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item&&t.isShow?i("div",{staticClass:"k-thing-detail-bg",on:{dblclick:t.close,click:t.click}},[i("div",{staticClass:"k-thing-detail",on:{dblclick:t.preventEvt}},[i("div",{staticClass:"z-row header"},[i("div",{staticClass:"z-12"},[0===t.item.status?i("span",{staticClass:"button",on:{click:function(e){return e.stopPropagation(),t.doFinish(e)}}},[i("i",{staticClass:"z-icon"},[t._v("\ue5ca")]),t._v("\u6807\u8bb0\u5b8c\u6210\n                ")]):t._e(),t._v(" "),1===t.item.status?i("span",{staticClass:"button",on:{click:function(e){return e.stopPropagation(),t.doFinish(e)}}},[i("i",{staticClass:"z-icon"},[t._v("\ue5cd")]),t._v("\u6807\u8bb0\u672a\u5b8c\u6210\n                ")]):t._e(),t._v(" "),2===t.item.status?i("span",{staticClass:"button",on:{click:function(e){return e.stopPropagation(),t.doFinish(e)}}},[i("i",{staticClass:"z-icon"},[t._v("\ue042")]),t._v("\u64a4\u9500\u5220\u9664\n                ")]):t._e(),t._v(" "),i("span",{staticClass:"button",on:{click:t.save}},[i("i",{staticClass:"z-icon"},[t._v("\ue161")]),t._v("\u4fdd\u5b58\n                ")])]),t._v(" "),i("div",{staticClass:"z-12"},[i("div",{staticClass:"action"},[i("span",{staticClass:"z-icon",on:{click:t.close}},[t._v("\ue14c")])])])]),t._v(" "),t.item?i("div",{staticClass:"wrap"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.title,expression:"item.title"}],staticClass:"title",attrs:{maxlength:"60",type:"text"},domProps:{value:t.item.title},on:{input:function(e){e.target.composing||t.$set(t.item,"title",e.target.value)}}}),t._v(" "),i("Describe",{attrs:{content:t.item.content}}),t._v(" "),i("div",{staticClass:"form"},[i("dl",{staticClass:"z-left"},[t._m(0),t._v(" "),i("dd",[i("Plan",{model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1)]),t._v(" "),i("dl",{staticClass:"z-left"},[t._m(1),t._v(" "),i("dd",[i("Owner",{attrs:{nick:t.onwerNick},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}}),t._v(" "),t.showUserSearch?i("k-user-search",{attrs:{fixed:"true",my:"true"},model:{value:t.owner,callback:function(e){t.owner=e},expression:"owner"}}):t._e()],1)]),t._v(" "),t.quadrant?t._e():i("dl",{staticClass:"z-left"},[t._m(2),t._v(" "),i("dd",[i("Priority",{model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1)]),t._v(" "),i("dl",{staticClass:"z-left",staticStyle:{width:"98%"}},[t._m(3),t._v(" "),i("dd",[i("Clock",{model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1)])]),t._v(" "),i("Comment",{model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1):t._e(),t._v(" "),i("CommentPost",{attrs:{item:t.item}})],1)]):t._e()},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dt",[i("i",{staticClass:"z-icon"},[t._v("\ue916")]),t._v("\u8ba1\u5212\u65e5\u671f\n                    ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dt",[i("i",{staticClass:"z-icon"},[t._v("\ue7fc")]),t._v("\u8d1f\u8d23\u4eba:")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dt",[i("i",{staticClass:"z-icon"},[t._v("\ue228")]),t._v("\u4f18\u5148\u7ea7")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dt",{staticStyle:{"line-height":"32px"}},[i("i",{staticClass:"z-icon"},[t._v("\ue190")]),t._v("\u63d0\u9192\u8bbe\u7f6e\n                    ")])}]};e.a=n},function(t,e,i){var n=i(36),a=i(126),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){function n(t){var e={id:t._id,title:t.title};return t.quadrant&&(e.color=a[t.quadrant]),t.start>0&&(e.start=moment.unix(t.start)),t.end>0&&(e.end=moment.unix(t.end),t.end-t.start>s&&(e.allDay=!0)),e}var a={a:"#f80e15",b:"#d9b403",c:"#009fe3",d:"#79AA1C"},s=86400;e.a={unixTime:function(t){var e=t._d.getTime();return parseInt(e/1e3)},convert:function(t){if(!Array.isArray(t))return n(t);for(var e=[],i=void 0,a=0;a<t.length;a++)i=n(t[a]),e.push(i);return e},getColor:function(t){return a[t]}}},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{margin:"20px"}},[i("div",{staticClass:"cal"}),t._v(" "),i("k-todo-add",{attrs:{value:t.eventData,visible:t.isShow,"is-cal":!0}})],1)},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(37),a=i(171),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(40),a=i(131),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(41),a=i(130),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tip"},[1===t.type?i("i",{directives:[{name:"tip",rawName:"v-tip",value:"\u6587\u672c\u6587\u6863",expression:"'\u6587\u672c\u6587\u6863'"}],staticClass:"doc-txt"}):t._e(),t._v(" "),2===t.type?i("i",{directives:[{name:"tip",rawName:"v-tip",value:"\u601d\u7ef4\u5bfc\u56fe",expression:"'\u601d\u7ef4\u5bfc\u56fe'"}],staticClass:"doc-mind"}):t._e(),t._v(" "),3===t.type?i("i",{directives:[{name:"tip",rawName:"v-tip",value:"\u6d41\u7a0b\u56fe",expression:"'\u6d41\u7a0b\u56fe'"}],staticClass:"doc-graph"}):t._e(),t._v(" "),5===t.type?i("i",{directives:[{name:"tip",rawName:"v-tip",value:"\u6d41\u7a0b\u56fe",expression:"'\u6d41\u7a0b\u56fe'"}],staticClass:"doc-graph"}):t._e(),t._v(" "),t.type?t._e():i("i",{directives:[{name:"tip",rawName:"v-tip",value:"\u6b64\u6587\u6863\u5c1a\u672a\u521b\u5efa",expression:"'\u6b64\u6587\u6863\u5c1a\u672a\u521b\u5efa'"}],staticClass:"z-icon why"},[t._v("\ue8fd")])])},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._l(t.value,function(e){return i("div",{key:e.id,staticClass:"group"},[i("div",{staticClass:"guide",attrs:{"data-id":e.id}}),t._v(" "),i("div",{staticClass:"item",attrs:{"data-id":e.id}},[i("hr"),t._v(" "),"folder"===e.link?i("i",{staticClass:"folder z-icon",class:{hide:!1===e.status}}):t._e(),t._v(" "),i("div",{staticClass:"header"},[i("Icon",{attrs:{type:e.type||e.link}}),t._v(" "),i("div",{staticClass:"title",on:{click:function(i){t.view(e)}}},[t._v("\n                    "+t._s(e.title)+"\n                ")])],1),t._v(" "),t.readonly?i("div",{staticClass:"info"},[t._v("\n                "+t._s(t._f("idate")(e.link))+"\n            ")]):i("div",{staticClass:"info"},[i("i",{staticClass:"z-icon hover",attrs:{title:"\u4fee\u6539\u6807\u9898"},on:{click:function(i){t.change(e)}}},[t._v("\ue22b")]),t._v(" "),i("i",{staticClass:"z-icon hover",attrs:{title:"\u6dfb\u52a0\u5b50\u7ae0\u8282"},on:{click:function(i){t.trigger(e,"add")}}},[t._v("\ue145")]),t._v(" "),i("i",{staticClass:"z-icon hover",attrs:{title:"\u5220\u9664\u7ae0\u8282"},on:{click:function(i){t.trigger(e,"remove")}}},[t._v("\ue872")])])]),t._v(" "),!1!==e.status&&e.sons&&e.sons.length>0?i("Chapter",{key:"s"+e.id,attrs:{readonly:t.readonly,value:e.sons}}):t._e()],1)}),t._v(" "),i("z-modal",{attrs:{title:"\u4fee\u6539\u6807\u9898",visible:t.isEdit,model:!1,size:"small",close:t.toggle}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("dl",[i("dt",[t._v("\u6587\u6863\u6807\u9898")]),t._v(" "),i("dd",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",koo:"need"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])])]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("span",{staticClass:"z-button close",on:{click:t.toggle}},[t._v("\u53d6\u6d88")]),t._v(" "),i("span",{staticClass:"z-button primary",on:{click:t.update}},[t._v("\u786e\u5b9a")])])])],2)},staticRenderFns:[]};e.a=n},function(t,e,i){e.a={set:function(){this.showSet=!0},remove:function(t,e,i){for(var n=void 0,a=void 0,s=0;s<e.length;s++){if((n=e[s]).id===t)return!i&&n.sons.length>0?(alert("\u5220\u9664\u5931\u8d25\uff0c\u8bf7\u5148\u5220\u9664\u5b50\u6587\u6863\u3002"),null):(a=e.splice(s,1))[0];if(n.sons&&n.sons.length>0&&(a=this.remove(t,n.sons,i)))return a}return null},addNode:function(){var t={title:"\u65b0\u589e\u6587\u6863",link:"",date:"",sons:[]};this.content.id++,t.id=this.content.id,this.content.sons.push(t),this.save(!0)},add:function(t,e,i,n){for(var a=void 0,s=0;s<e.length;s++){if((a=e[s]).id===t)return n?a.sons.unshift(i):e.splice(s,0,i),!0;if(a.sons&&a.sons.length>0&&this.add(t,a.sons,i,n))return!0}return!1},edit:function(t,e){for(var i=void 0,n=0;n<e.length;n++){if((i=e[n]).id===t.data){if("folder"===t.event)return i.status=!i.status,!1;if("edit"===t.event&&(i.link=t.link,"folder"===t.link&&(i.status=!0),i.title=t.title,i.uid=t.uid,t.type&&(i.type=t.type)),"title"===t.event){if(i.title===t.title)return!1;i.title=t.title}return!0}if(i.sons&&i.sons.length>0&&this.edit(t,i.sons))return!0}return!1},move:function(t){var e=this.remove(t.from,this.content.sons,!0),i=$.extend({},e,!1);return this.add(t.to,this.content.sons,i,t.isSon)},subscribe:function(t){var e=void 0,i=this.content;if("move"===t.event)return e=this.move(t),this.save(e);if("add"===t.event){var n={title:"\u65b0\u589e\u6587\u6863",link:"",date:"",sons:[]};return i.id++,n.id=i.id,t.data.sons.push(n),this.save(!0)}return"remove"===t.event?(e=this.remove(t.data.id,i.sons),this.save(e)):"save"===t.event?this.save(!0):"doc"===t.event?this.docId=t.data:"newDoc"===t.event?zen.vue.$emit("showAddDocBox",!0,t):(e=this.edit(t,i.sons),void this.save(e))},saveModel:function(){this.readonly=!0,this.$parent.save(!0,this.content,0)},cancel:function(){this.readonly=!0},editModel:function(){this.readonly=!1},changeTitle:function(t,e){this.data.title=$("input[name='title']",e.$el).val(),e.destory()},save:function(t){this.$parent.save(t,this.content)}}},function(t,e,i){var n=i(42),a=i(134),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("z-modal",{attrs:{title:"\u65b0\u5efa\u6587\u6863",visible:t.isShow,model:!1,size:"small",close:t.toggle}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("dl",[i("dt",[t._v("\u6587\u6863\u6807\u9898")]),t._v(" "),i("dd",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text"},domProps:{value:t.title},on:{keydown:function(e){return e.stopPropagation(),t.keydown(e)},input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),t._v(" "),i("dl",[i("dt",[t._v("\u6587\u6863\u7c7b\u578b")]),t._v(" "),i("dd",[i("z-radio",{attrs:{data:t.types},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)])]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("span",{staticClass:"z-button close",on:{click:t.toggle}},[t._v("\u53d6\u6d88")]),t._v(" "),i("span",{staticClass:"z-button primary",on:{click:t.add}},[t._v("\u786e\u5b9a")])])])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(43),a=i(165),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(44),a=i(137),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.readonly,expression:"readonly"}],staticClass:"k-rich-content"},[i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[t._v(t._s(t.item.title))]),t._v(" "),i("div",{domProps:{innerHTML:t._s(t.item.content)}})])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.readonly,expression:"!readonly"}],staticClass:"k-rich"},[i("textarea",{staticClass:"hide"},[t._v(t._s(t.item.content))])])])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(45),a=i(148),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(46),a=i(141),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){e.a={queryNodeById:function(t,e){if(e.id===t)return e;var i=e.children,n=void 0;if(i&&i.length>0)for(var a=0;a<i.length;a++)if(n=this.queryNodeById(t,i[a]))return n;return null}}},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShow?i("div",{staticClass:"k-grap-editor",style:t.style,on:{click:t.click}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],domProps:{value:t.title},on:{keydown:t.keyup,blur:t.save,input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),i("div",{staticClass:"theme",style:{background:t.color},on:{click:t.colorClick}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isColor,expression:"isColor"}],staticClass:"colors"},t._l(t.colors,function(e,n){return i("span",{key:n,class:{active:e===t.color},style:{background:e},on:{click:function(i){t.select(e)}}})}))]):t._e()},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(47),a=i(143),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toolbar"},[t._m(0),t._v(" "),i("div",{staticClass:"tools"},[i("div",{staticClass:"attr"},[t._v("\n            "+t._s(t.grapType[t.grap])+"\n            "),i("div",[i("span",{on:{click:function(e){t.choseGrapType("1")}}},[t._v(t._s(t.grapType[1]))]),t._v(" "),i("span",{on:{click:function(e){t.choseGrapType("3")}}},[t._v(t._s(t.grapType[3]))]),t._v(" "),i("span",{on:{click:function(e){t.choseGrapType("2")}}},[t._v(t._s(t.grapType[2]))]),t._v(" "),i("span",{on:{click:function(e){t.choseGrapType("4")}}},[t._v(t._s(t.grapType[4]))]),t._v(" "),i("span",{on:{click:function(e){t.choseGrapType("5")}}},[t._v(t._s(t.grapType[5]))]),t._v(" "),i("span",{on:{click:function(e){t.choseGrapType("6")}}},[t._v(t._s(t.grapType[6]))])])]),t._v(" "),i("div",{staticClass:"attr"},[t._v("\n            "+t._s(t.lineType[t.line])+"\n            "),i("div",[i("span",{on:{click:function(e){t.choseLineType("1")}}},[t._v(t._s(t.lineType[1]))]),t._v(" "),i("span",{on:{click:function(e){t.choseLineType("2")}}},[t._v(t._s(t.lineType[2]))])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"handle"},[i("i",{staticClass:"z-icon"},[t._v("\ue25d")])])}]};e.a=n},function(t,e,i){var n=i(145);e.a={context:null,init:function(t){this.context=t},on:function(t,e){if("addNode"===t)return n.a.add(e,this.context);"removeNode"===t&&n.a.remove(this.context),"nodeEvent"===t&&this.nodeEvent(e)},nodeEvent:function(t){var e=this.context,i=t.target,n=t.type,a=i.id;if(a&&(!e.readonly||"click"!==n&&"dblclick"!==n)){if("click"===n){if(e.current){if(e.current.id===a)return;e.current.attr({"stroke-width":1,"fill-opacity":.15})}return e.current=i}if("mouseover"===n)return e.current=i,e.emitTool(!0),i.attr({"stroke-width":2,"fill-opacity":.1});if("mouseout"===n)return i.attr({"stroke-width":1,"fill-opacity":.15});if("dblclick"===n){if(!i.id)return;return e.current=i,e.emitEditor(!0)}}},keydown:function(t,e){var i=this.context;if(null!==i.current&&!i.readonly){var a=!0;13===t&&(e.ctrlKey||e.metaKey)&&(a=!1),9===t&&(a=!1),n.a.add(a,i)}},keyboard:function(){var t=this;zen.vue.$on("mindEvt",function(e,i){t.on(e,i)}),$(window).click(function(e){return t.context.emitTool(!1),t.context.emitEditor(!1)}),$(window).keydown(function(e){var i=e.keyCode;13!==i&&9!==i||(e.preventDefault(),e.stopPropagation(),t.keydown(i,e))})}}},function(t,e,i){function n(t,e,i,a){for(var s=void 0,o=0;o<i.children.length;o++){if((s=i.children[o]).id===t)return a?(s.children||(s.children=[]),s.children.push(e)):i.children.splice(o,0,e),!0;if(s.children&&s.children.length>0&&n(t,e,s,a))return!0}return!1}function a(t,e){for(var i=void 0,n=0;n<e.children.length;n++){if((i=e.children[n]).id===t)return i.children.length>0?(alert("\u8bf7\u5148\u5220\u9664\u5b50\u8282\u70b9"),!1):(e.children.splice(n,1),!0);if(i.children&&i.children.length>0&&a(t,i))return!0}return!1}e.a={context:null,add:function(t,e){var i=e.current;if(i){var a=i.id,s={y:0,x:0,top:0,children:[],name:"\u65b0\u5efa\u8282\u70b9",color:null},o=e.data,r=o.ids++;s.id="i"+r,"root"===a?o.children.push(s):n(a,s,o,t),e.save()}},remove:function(t){var e=t.current;if(e){var i=e.id;"root"!==i&&a(i,t.data)&&(t.current=null,t.save())}}}},function(t,e,i){var n=i(48),a=i(147),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tool",style:t.style},[t.readonly?t._e():i("span",{staticClass:"z-icon",attrs:{title:"\u6dfb\u52a0"},on:{click:t.add}},[t._v("\ue145")]),t._v(" "),t.readonly?t._e():i("span",{staticClass:"z-icon",attrs:{title:"\u7f16\u8f91"},on:{click:t.edit}},[t._v("\ue3c9")]),t._v(" "),t.readonly?t._e():i("span",{staticClass:"z-icon",attrs:{title:"\u5220\u9664"},on:{click:t.remove}},[t._v("\ue92b")])])},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"z-mind",attrs:{tabindex:"-1"}},[i("Sidebar",{class:{show:!t.readonly},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}}),t._v(" "),i("div",{staticClass:"k-mind-map"},[i("Editor"),t._v(" "),i("Tool")],1)],1)},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(49),a=i(160),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(50),a=i(151),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShow?i("div",{staticClass:"k-grap-editor",style:t.style},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],domProps:{value:t.title},on:{keydown:function(e){return e.stopPropagation(),t.keydown(e)},blur:t.save,input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),t.isNode?i("div",{staticClass:"theme",style:{background:t.color},on:{click:t.colorClick}}):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isColor,expression:"isColor"}],staticClass:"colors"},t._l(t.colors,function(e,n){return i("span",{key:n,class:{active:e===t.color},style:{background:e},on:{click:function(i){t.select(e)}}})}))]):t._e()},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(51),a=i(153),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toolbar"},[t._m(0),t._v(" "),i("div",{staticClass:"tools"},[i("div",{staticClass:"shape",attrs:{"data-name":"circle"}},[i("svg",{staticClass:"svg"},[i("path",{staticClass:"path",attrs:{stroke:"#79aa1c",d:t.circlePath}}),t._v(" "),i("text",{staticClass:"text",attrs:{fill:"#79aa1c",x:"15",y:"20"}},[t._v("\u5706\u5f62")])])]),t._v(" "),i("div",{staticClass:"shape",attrs:{"data-name":"rect"}},[i("svg",{staticClass:"svg"},[i("path",{staticClass:"path",attrs:{stroke:"#009fe3",d:t.rectPath}}),t._v(" "),i("text",{staticClass:"text",attrs:{fill:"#009fe3",x:"15",y:"20"}},[t._v("\u77e9\u5f62")])])]),t._v(" "),i("div",{staticClass:"shape",attrs:{"data-name":"angle4"}},[i("svg",{staticClass:"svg"},[i("path",{staticClass:"path",attrs:{stroke:"#f80e15",d:t.angle4Path}}),t._v(" "),i("text",{staticClass:"text",attrs:{fill:"#f80e15",x:"15",y:"20"}},[t._v("\u83f1\u5f62")])])]),t._v(" "),i("div",{staticClass:"shape",attrs:{"data-name":"ellipse"}},[i("svg",{staticClass:"svg"},[i("path",{staticClass:"path",attrs:{stroke:"#E7C004",d:t.ellipsePath}}),t._v(" "),i("text",{staticClass:"text",attrs:{fill:"#E7C004",x:"15",y:"20"}},[t._v("\u692d\u5706")])])]),t._v(" "),i("div",{staticClass:"shape",attrs:{"data-name":"document"}},[i("svg",{staticClass:"svg"},[i("path",{staticClass:"path",attrs:{stroke:"#e17aff",d:t.documentPath}}),t._v(" "),i("text",{staticClass:"text",attrs:{fill:"#e17aff",x:"15",y:"15"}},[t._v("\u6587\u6863")])])]),t._v(" "),i("div",{staticClass:"shape",attrs:{"data-name":"step"}},[i("svg",{staticClass:"svg"},[i("path",{staticClass:"path",attrs:{stroke:"#388bdd",d:t.stepPath}}),t._v(" "),i("text",{staticClass:"text",attrs:{fill:"#388bdd",x:"15",y:"10"}},[t._v("\u6b65\u9aa4")])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"handle"},[i("i",{staticClass:"z-icon"},[t._v("\ue25d")])])}]};e.a=n},function(t,e,i){var n=i(52);e.a={context:null,init:function(t){this.context=t},addNode:function(t){n.a.add(t,this.context)},on:function(t,e){var i=this.context;if(!i.readonly){if("nodeMouseover"===t){if(i.currentNode=e,i.isDrawLine)return;return i.emitTool(!0)}return"lineEvent"===t?this.lineEvent(e):void 0}},lineEvent:function(t){var e=this.context,i=t.type,n=t.target;if("click"===i)return e.line=n,e.emitEditor(!0,n);if("mouseover"===i){var a=e.line;if(a){if(a.data("id")===n.data("id"))return;a.attr({"stroke-width":1})}return e.line=n,n.attr({"stroke-width":2})}},keydown:function(){var t=this;zen.vue.$on("flowEvt",function(e,i){t.on(e,i)}),$(window).click(function(e){var i=t.context;i.readonly||"svg"===e.target.tagName&&(i.emitEditor(!1),i.emitTool(!1),i.line&&(i.line.attr({"stroke-width":1}),i.line=null))})}}},function(t,e,i){var n=i(53),a=i(159),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){e.a={moving:function(t,e){var i=e.currentNode,n=i.data("txt"),a=t.position,s=i.getBBox(),o={x:a.left,y:a.top},r=s.width,l=s.height,c=a.left-s.x,d=a.top-s.y;i.attr(o),i.translate(c,d),n&&n.attr({x:o.x+r/2,y:o.y+l/2}),e.rerenderLines(i.data("id"))},finish:function(t){var e=t.currentNode,i=e.data("id"),n=e.getBBox(),a=t.getNode(i);a&&(a.x=n.x,a.y=n.y,t.save())}}},function(t,e,i){e.a={moving:function(t,e){var i=e.currentNode,n=t.position,a=t.size,s=i.data("id"),o=e.getNode(s);o.x=n.left,o.y=n.top,o.width=a.width,o.height=a.height,e.r.flowNode(o,e.nodes[s]),e.rerenderLines(s)},finish:function(t){var e=t.currentNode,i=e.data("id"),n=e.getBBox(),a=t.getNode(i);a&&(a.x=n.x,a.y=n.y,a.width=n.width,a.height=n.height,t.save())}}},function(t,e,i){var n=i(8);e.a={start:function(t,e){var i=e.currentNode;if(i){var n=i.getBBox(),a={id:i.data("id"),x:n.x,y:n.y},s=t.helper;s.hasClass("l1")&&(a.x+=n.width/2),s.hasClass("l2")&&(a.x+=n.width,a.y+=n.height/2),s.hasClass("l3")&&(a.x+=n.width/2,a.y+=n.height),s.hasClass("l4")&&(a.y+=n.height/2),e.startPoint=a}},moving:function(t,e){var i=e.startPoint,a=i.id,s=e.nodes[a].getBBox(),o=t.position,r=s.x+o.left,l=s.y+o.top+4,c=n.a.temp(i.x,i.y,r,l);e.tempPath?(e.tempPath.attr({path:c}),e.tempPath.show()):e.tempPath=e.r.path(c).attr({stroke:"#aaa",fill:"none"})},finish:function(t,e){if(e.tempPath){var i=e.startPoint.id,n=e.currentNode,a=n.data("id");if(a===i)return e.tempPath.hide();var s=i+"-"+a;if(!e.lines[s]){var o=e.nodes[i],r=t.position,l=o.getBBox(),c=l.x+r.left,d=l.y+r.top,u=n.getBBox();if(c>u.x&&d>u.y&&c<u.x+u.width&&d<u.y+u.height){var h=e.nodes[a],v={start:i,end:a,text:""};e.tempPath.hide(),e.lines[s]=e.r.flowLine({from:o,to:h}),e.data.lines.push(v),e.save()}}}}}},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tool",style:t.style,on:{contextmenu:function(e){return e.preventDefault(),e.stopPropagation(),t.right(e)},dblclick:t.dblclick}},[i("div",{staticClass:"l1 line"}),t._v(" "),i("div",{staticClass:"l2 line"}),t._v(" "),i("div",{staticClass:"l3 line"}),t._v(" "),i("div",{staticClass:"l4 line"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showOp,expression:"showOp"}],staticClass:"op"},[i("span",{on:{click:function(e){t.op("edit")}}},[t._v("\u7f16\u8f91")]),t._v(" "),i("span",{on:{click:function(e){t.op("remove")}}},[t._v("\u5220\u9664")])])])},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"k-flow",attrs:{tabindex:"-1"}},[i("div",{staticClass:"canvas",staticStyle:{width:"18000px",height:"18000px"}},[i("Tool"),t._v(" "),i("Editor")],1),t._v(" "),i("Sidebar",{class:{show:!t.readonly}})],1)},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(54),a=i(162),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this;t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"k-graph"},[i("iframe",{attrs:{id:"J_graphIframe",src:"/doc/flow.html"}})])}]};e.a=n},function(t,e,i){var n=i(55),a=i(164),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.value,function(e){return i("div",{key:"nav"+e.id,staticClass:"chapter"},[i("div",{staticClass:"item",class:{active:e.link===t.current},on:{click:function(i){t.selected(e)}}},[t._v("\n            "+t._s(e.title)+"\n        ")]),t._v(" "),e.sons&&e.sons.length>0?i("Nav",{attrs:{current:t.current,value:e.sons}}):t._e()],1)}))},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShow?i("div",{staticClass:"k-doc-board"},[i("dl",{staticClass:"rep-nav z-left"},[i("dt",{staticClass:"active",on:{click:t.close}},[i("i",{staticClass:"z-icon"},[t._v("\ue5d9")])]),t._v(" "),i("dt",{directives:[{name:"tip",rawName:"v-tip",value:"\u6587\u5e93\u76ee\u5f55",expression:"'\u6587\u5e93\u76ee\u5f55'"}],on:{click:t.nav}},[i("i",{staticClass:"z-icon"},[t._v("\ue8fe")])]),t._v(" "),i("dt",{directives:[{name:"show",rawName:"v-show",value:!t.readonly,expression:"!readonly"}],on:{click:t.saved}},[i("i",{staticClass:"z-icon"},[t._v("\ue161")])]),t._v(" "),i("dt",{directives:[{name:"tip",rawName:"v-tip",value:"\u6587\u6863\u9884\u89c8",expression:"'\u6587\u6863\u9884\u89c8'"}]},[i("a",{attrs:{href:"/view.html?id="+t.itemId,target:"_blank"}},[i("i",{staticClass:"z-icon"},[t._v("\ue8f4")])])]),t._v(" "),i("dd",{staticClass:"z-noselect"},[t._v("\n            "+t._s(t.tooltip)+"\n        ")])]),t._v(" "),i("div",{staticClass:"success"},[t._v(t._s(t.tipMsg))]),t._v(" "),i(t.name,{tag:"component",attrs:{readonly:t.readonly,emitSave:t.emitSave},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),i("div",{staticClass:"doc-nav",class:{show:t.showNav}},[i("i",{directives:[{name:"show",rawName:"v-show",value:t.showNav,expression:"showNav"}],staticClass:"z-icon close hover",on:{click:t.nav}},[t._v("\ue14c")]),t._v(" "),i("Nav",{attrs:{value:t.nodes,current:t.itemId}})],1)],1):t._e()},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(56),a=i(167),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"k-repository-set"},[i("div",{staticClass:"modal"},[i("h4",[t._v("\u77e5\u8bc6\u5e93\u6743\u9650\u8bbe\u7f6e")]),t._v(" "),i("i",{staticClass:"close z-icon hover",on:{click:t.close}},[t._v("\ue14c")]),t._v(" "),i("div",{staticClass:"z-row"},[i("div",{staticClass:"z-6"},[t._v("\u6587\u5e93\u7c7b\u578b")]),t._v(" "),i("div",{staticClass:"z-18"},[i("z-radio",{model:{value:t.def,callback:function(e){t.def=e},expression:"def"}},[i("var",{attrs:{value:"1"}},[t._v("\u79c1\u6709\u6587\u5e93")]),t._v(" "),i("var",{attrs:{value:"3"}},[t._v("\u540c\u4e8b\u5f00\u653e")]),t._v(" "),i("var",{attrs:{value:"2"}},[t._v("\u5b8c\u5168\u5f00\u653e")])])],1)]),t._v(" "),"1"===t.def?i("div",{staticClass:"z-row"},[i("div",{staticClass:"z-6"},[t._v("\u6587\u5e93\u6210\u5458")]),t._v(" "),i("div",{staticClass:"z-18"},[i("div",{staticClass:"add"},[i("em",{staticClass:"z-button small primary",on:{click:t.showSearch}},[t._v("\u6dfb\u52a0\u7528\u6237")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.searchTag,expression:"searchTag"}],staticClass:"search"},[i("k-user-search",{model:{value:t.current,callback:function(e){t.current=e},expression:"current"}}),t._v(" "),i("div",{staticClass:"action"},[i("span",{staticClass:"z-button small",on:{click:t.cancel}},[t._v("\u53d6\u6d88")]),t._v(" "),i("span",{staticClass:"z-button small primary",on:{click:t.select}},[t._v("\u786e\u5b9a")])])],1),t._v(" "),t._l(t.users,function(e){return i("div",{key:e._id,staticClass:"user"},[i("z-avator",{attrs:{uid:e._id}}),t._v(" "),i("strong",[t._v(t._s(e.nick))]),t._v(" "),i("span",{staticClass:"z-icon hover",on:{click:function(i){t.remove(e)}}},[t._v("\ue5c9")])],1)})],2)]):t._e()])])},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"k-repository"},[i("div",{staticClass:"z-row"},[i("div",{staticClass:"z-12 h3"},[t._v("\n                "+t._s(t.chapterData.title)+"\n            ")]),t._v(" "),i("div",{staticClass:"z-12",staticStyle:{"text-align":"right"}},[i("a",{staticClass:"z-button",attrs:{target:"_blank",href:"/view.html?id="+t.chapterData._id}},[t._v("\u9884\u89c8")]),t._v(" "),t.pid?t._e():i("span",{staticClass:"z-button",on:{click:t.set}},[t._v("\u8bbe\u7f6e")]),t._v(" "),i("z-form",{staticClass:"z-button",attrs:{target:"/note/patch.do",prop:t.chapterData,size:"small",view:"J_title",callback:t.changeTitle}},[t._v("\u4fee\u6539\u6807\u9898\n                ")]),t._v(" "),i("span",{staticClass:"z-button primary",on:{click:t.addNode}},[t._v("\u65b0\u589e\u7ae0\u8282")])],1)]),t._v(" "),i("Chapter",{key:"root",attrs:{value:t.content.sons,readonly:t.readonly}})],1),t._v(" "),i("AddDoc",{attrs:{parent:t.chapterData._id}}),t._v(" "),i("Board",{attrs:{itemId:t.docId,nodes:t.content.sons}}),t._v(" "),t.showSet?i("Set",{attrs:{permision:t.chapterData.permision,note:t.chapterData._id}}):t._e()],1)},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(57),a=i(170),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[t._l(t.data,function(e,n){return i("div",{key:e._id,staticClass:"doc-item",class:{active:t.current===e._id},on:{click:function(i){t.select(e,i)}}},[t._v(t._s(e.title)),i("span",[t._v("\n            "+t._s(t._f("idate")(e._id))+"\n            "),i("z-execute",{staticClass:"z-icon hover",attrs:{tip:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",target:"/note/remove.do?_id="+e._source,destory:{index:n,parent:t.data}}},[t._v("\ue5c9")])],1)])}),t._v(" "),t.total>10?i("z-pager",{attrs:{type:"simple",total:t.list.total,target:"list"}}):t._e()],2)},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"k-doc z-row"},[i("div",{staticClass:"z-4"},[i("h3",[t._v("\u6211\u7684\u77e5\u8bc6\u5e93\n            "),i("z-form",{staticClass:"new",attrs:{size:"small",view:"J_new",target:"/note/add.do",title:"\u65b0\u5efa\u77e5\u8bc6\u5e93"}},[i("i",{staticClass:"z-icon hover"},[t._v("\ue145")])])],1),t._v(" "),i("Tree")],1),t._v(" "),i("div",{staticClass:"z-20"},[t.content?i("Editor",{attrs:{data:t.chapterData,summary:t.content}}):t._e()],1)])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(58),a=i(173),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("i",{staticClass:"z-icon search-icon hover",on:{click:t.click}},[t._v("\ue8b6")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"search-dialog"})])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(59),a=i(179),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(60),a=i(176),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[t._m(0),t._v(" "),i("td",{key:"scale",class:{weekend:t.start.isWeekend,month:t.start.isFirst}},[t._v(t._s(t.start.text)+"\n    ")]),t._v(" "),t._l(t.data,function(e,n){return i("td",{key:"scale"+n,class:{weekend:e.isWeekend,month:e.isFirst}},[t._v(t._s(e.text)+"\n    ")])})],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("th",[i("span",[t._v("\u6240\u6709\u4e8b\u9879")])])}]};e.a=n},function(t,e,i){var n=i(61),a=i(178),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",{class:{empty:0===t.data.start}},[i("th",[i("div",{staticClass:"thing"},[t._v(t._s(t.data.title))])]),t._v(" "),i("td",{key:"thing"+t.data._id,class:{weekend:t.start.isWeekend},attrs:{date:t.start.date}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.data.start>0,expression:"data.start>0"},{name:"tip",rawName:"v-tip",value:"\u65f6\u95f4\u63d0\u793a",expression:"'\u65f6\u95f4\u63d0\u793a'"}],class:"scale "+t.data.quadrant,style:t.css,on:{mousedown:t.mousedown,dblclick:t.show}})]),t._v(" "),t._l(t.scales,function(e,n){return i("td",{key:"thing"+t.data._id+n,class:{weekend:e.isWeekend},on:{click:function(e){t.addDate(n)}}})})],2)},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"z-1"},[i("div",{staticClass:"z-row header"},[i("div",{staticClass:"z-20"},[t._v("\u76d8\u53e4\u9879\u76ee\u7518\u7279\u56fe"),i("i",{staticClass:"z-icon add",on:{click:t.add}},[t._v("\ue148")])]),t._v(" "),i("div",{staticClass:"z-4",on:{click:t.startPosition}},[t._v(t._s(t.now.date)),i("i",{staticClass:"z-icon hover"},[t._v("\ue0c8")])])]),t._v(" "),i("div",{staticClass:"table-fixed"},[i("span",{staticClass:"z-icon prev"},[t._v("\ue408")]),t._v(" "),i("span",{staticClass:"z-icon next"},[t._v("\ue409")]),t._v(" "),i("div",{staticClass:"wrap",attrs:{id:"J_wrap"}},[i("table",[i("thead",[i("Scale",{attrs:{data:t.scales,start:t.start}})],1),t._v(" "),i("tbody",t._l(t.things,function(e,n){return i("Thing",{key:e._id,attrs:{time:t.time,start:t.start,scales:t.scales},model:{value:t.things[n],callback:function(e){t.$set(t.things,n,e)},expression:"things[idx]"}})}))])])]),t._v(" "),i("k-todo-add",{attrs:{visible:t.isShow}})],1)},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(62),a=i(181),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("z-modal",{attrs:{title:"\u6dfb\u52a0\u5f85\u529e",visible:t.visible,all:"true",size:"small",model:!1,close:t.close}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{placeholder:"\u8bf7\u8f93\u5165\u5f85\u529e\u5185\u5bb9",maxlength:"60"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),i("div",{staticClass:"k-cal-add"},[i("div",{staticClass:"config-item"},[i("div",[i("i",{staticClass:"z-icon"},[t._v("\ue228")]),t._v("\u4f18\u5148\u7ea7:")]),t._v(" "),i("div",{staticStyle:{margin:"0 10px"}},[i("Priority",{model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1)]),t._v(" "),t.isCal?t._e():i("div",{staticClass:"config-item"},[i("div",[i("i",{staticClass:"z-icon"},[t._v("\ue7fc")]),t._v("\u8d1f\u8d23\u4eba:")]),t._v(" "),i("div",{staticStyle:{margin:"0 10px"}},[i("div",{staticClass:"user-info",on:{click:t.show}},[t._v("\n                        "+t._s(t.user.nick)+"\n                    ")]),t._v(" "),t.isShow?i("k-user-search",{attrs:{fixed:"true",my:"true"},on:{blur:t.blur},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}):t._e()],1)])])]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("span",{staticClass:"z-button",on:{click:t.close}},[t._v("\u53d6\u6d88")]),t._v(" "),i("span",{staticClass:"z-button primary",on:{click:t.submit}},[t._v("\u786e\u5b9a")])])])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(63),a=i(183),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{click:t.login}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDD&&t.timer,expression:"isDD&&timer"}],staticStyle:{width:"150px",margin:"20px auto"}},[t.checkId?i("input",{attrs:{type:"hidden",id:"J_qrId"},domProps:{value:t.checkId}}):t._e(),t._v(" "),i("div",{staticClass:"qr"})]),t._v(" "),i("div",{staticClass:"z-link"},[t._t("default")],2)])},staticRenderFns:[]};e.a=n},function(t,e,i){function n(t,e){var i=t.localStorage.config;if(i&&(zen.user=JSON.parse(i),zen.user.id))return e(zen.user);zen.http(null,"/system/my.do",function(i){var n=i.data,a={id:n._id,nick:n.nick,username:n.username,home:n.home,skin:n.skin,isLocal:n.isLocal,mode:n.mode,calendar:n.calendar};zen.user=a,t.localStorage.config=JSON.stringify(a),e(a)})}function a(t){$(document).ready(function(){if(t.skin){var e="url('//a.yimiyisu.com/kooteam/bg/"+t.skin+".jpg')";$("body").css("background-image",e)}var i=$("#J_navbar"),n="active";$("h2",i).click(function(){zen.goto(zen.user.home)}),$("a",i).click(function(t){var e=$(t.currentTarget).parent();"DD"===e[0].tagName&&(e.hasClass(n)||($("."+n,i).removeClass(n),e.addClass(n)))})})}e.a=function(){var t=window,e=t.location.pathname;"/"===e||e.indexOf(".html")>-1||n(t,function(t){a(t)})}},function(t,e,i){var n=i(64),a=i(186),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"z-1",staticStyle:{background:"#fff"}},[t.isLoad?i("Editor",{attrs:{pid:t.id,data:t.data,summary:t.content}}):t._e()],1)},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(65),a=i(196),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(66),a=i(192),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(67),a=i(191),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){e.a=[{key:"a",title:"\u91cd\u8981\u4e14\u7d27\u6025"},{key:"b",title:"\u91cd\u8981\u4e0d\u7d27\u6025"},{key:"c",title:"\u7d27\u6025\u4e0d\u91cd\u8981"},{key:"d",title:"\u4e0d\u91cd\u8981\u4e0d\u7d27\u6025"}]},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"k-board-add"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",maxlength:"60",placeholder:"\u8bf7\u8f93\u5165\u8981\u5904\u7406\u7684\u4efb\u52a1"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),i("div",{staticClass:"owner"},[t._v("\u8d1f\u8d23\u4eba\uff1a\n        "),i("div",{staticClass:"avator",on:{click:function(e){return e.stopPropagation(),t.userShow(e)}}},[i("z-avator",{attrs:{uid:t.uid}}),t._v(" "),i("span",[t._v(t._s(t.nick))])],1),t._v(" "),t.isShow?i("k-user-search",{attrs:{my:"true"},on:{blur:t.userBlur},model:{value:t.owner,callback:function(e){t.owner=e},expression:"owner"}}):t._e()],1),t._v(" "),i("div",{staticClass:"prority"},[i("span",{staticClass:"title"},[t._v("\u4f18\u5148\u7ea7\uff1a")]),t._v(" "),t._l(t.prorityData,function(e){return i("label",{class:"k-prority "+e.key,on:{click:function(i){t.select(e,i)}}})})],2),t._v(" "),i("div",{staticClass:"btns"},[i("span",{staticClass:"z-button small",on:{click:t.close}},[t._v("\u53d6\u6d88")]),t._v(" "),i("span",{staticClass:"z-button small primary",on:{click:t.save}},[t._v("\u4fdd\u5b58")])])])},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column",attrs:{"data-id":t.data.tag}},[i("div",{staticClass:"header"},[t.isAddThing?i("AddThing",{attrs:{data:t.data}}):t._e(),t._v(" "),i("div",{staticClass:"h4"},[t.isEdit?i("input",{attrs:{maxlength:"10",type:"text"},domProps:{value:t.data.title},on:{blur:t.rename,keyup:t.keyup}}):i("div",[t._v("\n                "+t._s(t.data.title)+"\n                "),i("i",{staticClass:"z-icon hover plus",on:{click:t.add}},[t._v("\ue148")])]),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:!t.isEdit,expression:"!isEdit"}],staticClass:"z-icon hover do",on:{click:t.focus}},[t._v("\ue313")]),t._v(" "),t.showAction?i("div",{staticClass:"action",attrs:{tabindex:"-1"},on:{blur:t.blur}},[i("span",{on:{click:t.renameClk}},[t._v("\u91cd\u547d\u540d")]),t._v(" "),i("span",{on:{click:t.remove}},[t._v("\u5220\u9664")])]):t._e()])],1),t._v(" "),i("div",{staticClass:"things",attrs:{"data-id":t.data.tag}},t._l(t.data.sons,function(e){return i("Thing",{key:e._id,attrs:{data:e,now:t.now,drag:"board"}})}))])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(68),a=i(194),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add"},[i("div",{staticClass:"wrap"},[t.isEdit?i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{maxlength:"12",type:"text"},domProps:{value:t.title},on:{keyup:t.keyup,input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),i("div",{staticClass:"btn"},[i("span",{staticClass:"z-button",on:{click:t.cancel}},[t._v("\u53d6\u6d88")]),t._v(" "),i("span",{staticClass:"z-button primary",on:{click:t.save}},[t._v("\u4fdd\u5b58")])])]):i("div",{staticClass:"tip",on:{click:t.focus}},[i("i",{staticClass:"z-icon"},[t._v("\ue145")]),t._v("\u65b0\u5efa\u4efb\u52a1")])])])},staticRenderFns:[]};e.a=n},function(t,e,i){e.a=[{title:"\u4ea7\u54c1\u89c4\u5212",tag:"t1",sons:[]},{title:"\u524d\u7aef\u5f00\u53d1",tag:"t2",sons:[]},{title:"\u540e\u7aef\u5f00\u53d1",tag:"t3",sons:[]},{title:"\u6d4b\u8bd5",tag:"t4",sons:[]},{title:"\u53d1\u5e03",tag:"t5",sons:[]},{title:"\u5176\u5b83",tag:"t6",sons:[]}]},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"z-1"},[i("div",{staticClass:"k-board-detail",on:{click:t.hideUserSearch}},[t._l(t.columns,function(e){return i("Column",{key:e.tag,attrs:{now:t.now,data:e}})}),t._v(" "),i("Add")],2)])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(69),a=i(198),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"k-user-search z-form",class:{fixed:t.fixed},on:{click:function(e){return e.stopPropagation(),t.stop(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{placeholder:"\u8f93\u5165\u6635\u79f0\u5173\u952e\u5b57\u641c\u7d22",type:"text"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),t._v(" "),i("div",[t._l(t.users,function(e){return i("label",{key:e.uid,staticClass:"item",on:{click:function(i){t.select(e,i)}}},[i("z-avator",{attrs:{uid:e.uid}}),t._v(" "),i("div",[t._v(t._s(e.nick))])],1)}),t._v(" "),t.name?i("input",{attrs:{name:t.name,type:"hidden"},domProps:{value:t.uid}}):t._e()],2),t._v(" "),t.localApp&&t.loaded&&0===t.users.length?i("div",{staticStyle:{"text-align":"center"}},[i("div",[t._v("\u6ca1\u6709\u641c\u7d22\u5230\u76f8\u5173\u597d\u53cb\uff0c\u53ef\u4ee5\u7528\u5fae\u4fe1\u626b\u63cf\u4e8c\u7ef4\u7801\u6dfb\u52a0\u597d\u53cb")]),t._v(" "),i("img",{attrs:{width:"180",src:"//a.yimiyisu.com/kooteam/friend.png"}})]):t._e()])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(70),a=i(210),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(71),a=i(201),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[t._l(t.imgs,function(e){return i("div",{staticClass:"skin",class:{active:e===t.def},on:{click:function(i){t.select(e)}}},[i("img",{attrs:{src:"//a.yimiyisu.com/kooteam/bg/"+e+".jpg"}})])}),t._v(" "),i("input",{attrs:{type:"hidden",name:"skin"},domProps:{value:t.def}})],2)},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(72),a=i(203),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("\u6b63\u5728\u9000\u51fa\uff0c\u8bf7\u7a0d\u7b49...")])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(73),a=i(205),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},t._l(t.value,function(e){return i("Thing",{key:e._id,attrs:{now:t.now,data:e}})}))},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(74),a=i(207),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("z-submit",{staticClass:"z-button primary",attrs:{target:"/patch/user.json",callback:t.save}},[t._v("\u4fdd\u5b58")])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(75),a=i(209),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",{attrs:{"data-href":"/system/theme.htm"},on:{click:t.jump}},[i("i",{staticClass:"z-icon"},[t._v("\ue886")]),t._v("\u504f\u597d\u8bbe\u7f6e")]),t._v(" "),i("li",{attrs:{"data-href":"/system/todo.htm"},on:{click:t.jump}},[i("i",{staticClass:"z-icon"},[t._v("\ue614")]),t._v("\u6211\u521b\u5efa\u7684\u4efb\u52a1")]),t._v(" "),i("li",{attrs:{"data-href":"/system/finish.htm"},on:{click:t.jump}},[i("i",{staticClass:"z-icon"},[t._v("\ue862")]),t._v("\u5df2\u5b8c\u6210\u5f85\u529e")]),t._v(" "),i("li",{attrs:{"data-href":"/system/project.htm"},on:{click:t.jump}},[i("i",{staticClass:"z-icon"},[t._v("\ue01d")]),t._v("\u6211\u7684\u6536\u85cf")]),t._v(" "),i("li",{attrs:{"data-href":"/system/profile.htm"},on:{click:t.jump}},[i("i",{staticClass:"z-icon"},[t._v("\ue7fd")]),t._v("\u4e2a\u4eba\u8d44\u6599")]),t._v(" "),t.mode>2?i("li",{attrs:{"data-href":"/system/password.htm"},on:{click:t.jump}},[i("i",{staticClass:"z-icon"},[t._v("\ue897")]),t._v("\u8d26\u53f7\u5bc6\u7801")]):t._e(),t._v(" "),t.isRoot?i("li",{attrs:{"data-href":"/system/home.htm"},on:{click:t.jump}},[i("i",{staticClass:"z-icon"},[t._v("\ue8b8")]),t._v("\u7cfb\u7edf\u8bbe\u7f6e")]):t._e()])},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.name,{tag:"component",attrs:{value:t.value}})},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(76),a=i(214),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(77),a=i(213),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{on:{click:t.click}},[i("li",[i("z-execute",{attrs:{target:"/project/favi.do?projectId="+t.id}},[t._v("\u6536\u85cf")])],1),t._v(" "),t.isOnwer?i("li",[i("z-form",{attrs:{view:"J_trans",size:"small",prop:t.id,target:"/project/trans.do",title:"\u8bf7\u9009\u62e9\u7528\u6237"}},[t._v("\u8f6c\u4ea4\u9879\u76ee")])],1):t._e(),t._v(" "),t.isOnwer?i("li",[i("z-execute",{attrs:{tip:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",target:"/project/remove.do?_id="+t.id}},[t._v("\u5220\u9664")])],1):t._e(),t._v(" "),t.isOnwer?t._e():i("li",[i("z-execute",{attrs:{target:"/project/quit.do?projectId="+t.id}},[t._v("\u9000\u51fa")])],1)])},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.name,{tag:"component",attrs:{value:t.value}})},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(78),a=i(220),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(79),a=i(217),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("\u9489\u9489\u767b\u5f55")])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(80),a=i(219),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.name,{tag:"component",attrs:{value:t.value}})},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(81),a=i(226),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n=i(82),a=i(223),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"z-form"},[i("dl",[i("dt",[t._v("\u7528\u6237\u540d")]),t._v(" "),i("dd",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],attrs:{type:"text"},domProps:{value:t.user},on:{input:function(e){e.target.composing||(t.user=e.target.value)}}})])]),t._v(" "),i("dl",[i("dt",[t._v("\u5bc6\u7801")]),t._v(" "),i("dd",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password"},domProps:{value:t.pwd},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submit(e):null},input:function(e){e.target.composing||(t.pwd=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"action"},[i("span",{staticClass:"z-button primary",on:{click:t.submit}},[t._v("\u63d0\u4ea4")])])])},staticRenderFns:[]};e.a=n},function(t,e,i){var n=i(83),a=i(225),s=i(0)(n.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["dd"===t.value.qr?i("div",[t._v("\u8bf7\u7528\u9489\u9489\u626b\u7801\u4e8c\u7ef4\u7801")]):t._e(),t._v(" "),"wechat"===t.value.qr?i("div",[t._v("\u8bf7\u7528\u4f01\u4e1a\u5fae\u4fe1\u626b\u7801\u4e8c\u7ef4\u7801")]):t._e(),t._v(" "),i("div",{staticClass:"qr"})])},staticRenderFns:[]};e.a=n},function(t,e,i){var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.check?t._e():i("div",{staticClass:"k-login"},[t.isQr?i("QR",{model:{value:t.params,callback:function(e){t.params=e},expression:"params"}}):t._e(),t._v(" "),t.isQr?t._e():i("Password",{attrs:{target:t.target},model:{value:t.params,callback:function(e){t.params=e},expression:"params"}}),t._v(" "),t.isQr?i("span",{staticClass:"z-red hover",on:{click:t.change}},[t._v("\u5207\u6362\u5230\u8d26\u6237\u767b\u9646")]):t._e(),t._v(" "),!t.isQr&&t.hasQr?i("span",{staticClass:"z-red hover",on:{click:t.change}},[t._v("\u5207\u6362\u5230\u626b\u7801\u767b\u9646")]):t._e()],1)},staticRenderFns:[]};e.a=n}]);