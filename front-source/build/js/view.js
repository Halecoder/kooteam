function c(t){if(b[t])return b[t].exports;var e=b[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,c),e.l=!0,e.exports}var a,b;b={},c.m=a=[function(t,e,n){"use strict";function i(t,e,n,i,a,r,s,o){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):a&&(l=o?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";e.a={name:"minder",props:["value","readonly"],data:function(){return{isLoaded:!1,key:"t-minder"}},created:function(){Vue.options.components[this.key]&&(this.isLoaded=!0)},render:function(t){var e=t;return this.isLoaded?e("t-minder",{attrs:{value:this.value,readonly:this.readonly},on:{input:this.save}}):(this.load(),null)},methods:{save:function(t){this.$parent.updateContent(t)},load:function(){var t=this;$.lib(["naotu.js"],function(){t.isLoaded=!0})}}}},,function(t,e,n){"use strict";n.r(e);function i(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loaded?n("div",[n("Header",{attrs:{title:t.title,logo:t.logo}}),t._v(" "),4===t.article.type?n("Chapter",{staticClass:"book",attrs:{data:t.nav.sons}}):n("Content",{attrs:{tree:t.nav.sons,isnav:t.showNav,current:t.article._id,data:t.article}})],1):t._e()}function a(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",n._l(n.list,function(e,t){return i("div",{key:e.id,staticClass:"chapter"},[i("div",{staticClass:"item",class:{active:e.link===n.current},on:{click:function(t){return n.select(e)}}},["folder"===e.link?i("i",{staticClass:"folder z-icon",class:{hide:!1===e.status}}):n._e(),n._v(" "),i("div",{staticClass:"serial"},[n.son?i("i",[n._v(n._s(t+1))]):i("span",[n._v(n._s(n.serial[t]))])]),n._v("\n            "+n._s(e.title)+"\n        ")]),n._v(" "),!1!==e.status&&e.sons&&0<e.sons.length?i("Chapter",{attrs:{son:!0,current:n.current,data:e.sons}}):n._e()],1)}),0)}a._withStripped=i._withStripped=!0;var r={props:["data","current","son"],name:"Chapter",data:function(){return{list:[],serial:["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c","\u5341\u4e09","\u5341\u56db","\u5341\u4e94","\u5341\u516d","\u5341\u4e03","\u5341\u516b","\u5341\u4e5d","\u4e8c\u5341\u4e00","\u4e8c\u5341\u4e8c","\u4e8c\u5341\u4e09","\u4e8c\u5341\u56db","\u4e8c\u5341\u4e94","\u4e8c\u5341\u516d","\u4e8c\u5341\u4e03","\u4e8c\u5341\u516b","\u4e8c\u5341\u4e5d","\u4e09\u5341\u4e00","\u4e09\u5341\u4e8c","\u4e09\u5341\u4e09","\u4e09\u5341\u56db","\u4e09\u5341\u4e94","\u4e09\u5341\u516d","\u4e09\u5341\u4e03","\u4e09\u5341\u516b","\u4e09\u5341\u4e5d","\u56db\u5341\u4e00","\u56db\u5341\u4e8c","\u56db\u5341\u4e09","\u56db\u5341\u56db","\u56db\u5341\u4e94","\u56db\u5341\u516d","\u56db\u5341\u4e03","\u56db\u5341\u516b","\u56db\u5341\u4e5d","\u4e94\u5341\u4e00","\u4e94\u5341\u4e8c","\u4e94\u5341\u4e09","\u4e94\u5341\u56db","\u4e94\u5341\u4e94","\u4e94\u5341\u516d","\u4e94\u5341\u4e03","\u4e94\u5341\u516b","\u4e94\u5341\u4e5d","l\u5341\u4e00","\u4e94\u5341\u4e8c","\u4e94\u5341\u4e09","\u4e94\u5341\u56db","\u4e94\u5341\u4e94","\u4e94\u5341\u516d","\u4e94\u5341\u4e03","\u4e94\u5341\u516b","\u4e94\u5341\u4e5d"]}},mounted:function(){var t;if(this.data)for(var e=0;e<this.data.length;e++)(t=this.data[e]).status&&(t.status=!1),this.list.push(t)},methods:{select:function(t){return t.link?"folder"===t.link?$.emit("toggle",t.id):($.emit("load",t.link),void $.scrollTop(0)):alert(t.title+"\u6587\u6863\u5c1a\u672a\u521b\u5efa")}}},s=n(0),o=Object(s.a)(r,a,[],!1,null,null,null);o.options.__file="view/chapter.vue";function l(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",class:t.bg},[n("div",{staticClass:"nav",class:{active:t.isnav}},[n("Chapter",{staticClass:"wrap",attrs:{data:t.tree,current:t.current}})],1),t._v(" "),n("div",{staticClass:"content",on:{click:t.click}},[1===t.data.type?n("div",{staticClass:"wrap"},[n("div",{staticClass:"article-body",domProps:{innerHTML:t._s(t.data.content)}})]):t._e(),t._v(" "),2===t.data.type?n("Mind",{attrs:{readonly:!0,value:t.data.content}}):t._e(),t._v(" "),5===t.data.type?n("Graph",{attrs:{value:t.data}}):t._e()],1)])}var c=o.exports;l._withStripped=!0;function u(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"k-graph"})}var d=n(1);u._withStripped=!0;var v={props:["value"],data:function(){return{isInited:!1,themes:{}}},watch:{value:function(){this.render()}},mounted:function(){var t=window;t.STENCIL_PATH="/stencils",t.IMAGE_PATH="/images",t.STYLE_PATH="/styles",t.urlParams={},t.mxLoadResources=!1,t.mxLoadStylesheets=!1,t.mxBasePath="/",t.mxConstants={},$.lib(["/mx/mxClient.js","/mx/viewer.js"],this.render)},methods:{render:function(){var n=this;n.$el.innerHTML="",n.isInited?n.draw():mxUtils.getAll([STYLE_PATH+"/default.xml",STENCIL_PATH+"/basic.xml",STENCIL_PATH+"/flowchart.xml",STENCIL_PATH+"/bpmn.xml",STENCIL_PATH+"/arrows.xml"],function(t){n.themes[Graph.prototype.defaultThemeName]=t[0].getDocumentElement();for(var e=1;e<t.length;e++)n.loadShape(t[e]);n.isInited=!0,n.draw()},function(){alert("\u52a0\u8f7d\u8d44\u6e90\u5931\u8d25")})},draw:function(){var t=this.value.content;if(t){t=Graph.decompress(t);var e=mxUtils.parseXml(t),n=new mxCodec(e),i=new Graph(this.$el);i.centerZoom=!0,i.setTooltips(!1),i.setEnabled(!1);var a=i.getStylesheet().getDefaultVertexStyle();a[mxConstants.STYLE_FONTCOLOR]="#000000",a[mxConstants.STYLE_STROKECOLOR]="#777777",a[mxConstants.STYLE_FILLCOLOR]="#ffffff",(a=i.getStylesheet().getDefaultEdgeStyle())[mxConstants.STYLE_STROKECOLOR]="#777777",a[mxConstants.STYLE_FILLCOLOR]="#ffffff",i.panningHandler.useLeftButtonForPanning=!0,i.panningHandler.ignoreCell=!0,i.container.style.cursor="move",i.setPanning(!0),i.resizeContainer=!1,i.border=0,n.decode(e.documentElement,i.getModel())}},loadShape:function(t){for(var e=t.getDocumentElement().firstChild;null!=e;)e.nodeType==mxConstants.NODETYPE_ELEMENT&&mxStencilRegistry.addStencil(e.getAttribute("name"),new mxStencil(e)),e=e.nextSibling}}},f=Object(s.a)(v,u,[],!1,null,null,null);f.options.__file="view/graph.vue";var h=f.exports,p={props:["tree","data","current","isnav"],components:{Chapter:c,Mind:d.a,Graph:h},data:function(){return{bg:""}},watch:{data:function(t){1===t.type?this.bg="":this.bg="bg"}},mounted:function(){1!==this.data.type&&(this.bg="bg")},methods:{click:function(){this.isnav&&(this.$parent.showNav=!1,$.scrollTop(0))}}},m=Object(s.a)(p,l,[],!1,null,null,null);m.options.__file="view/content.vue";function _(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("h1",[n("span",{staticClass:"z-icon hover list",on:{click:t.toggle}},[t._v("\ue241")]),t._v(" "),n("span",{staticClass:"z-icon hover full",on:{click:t.full}},[t._v("\ue3c2")]),t._v("\n        "+t._s(t.title)+"\n    ")]),t._v(" "),n("a",{attrs:{href:"//www.kooteam.com",target:"_blank"}},[n("img",{attrs:{src:t.logo}})])])}var g=m.exports;_._withStripped=!0;var w={props:["title","logo"],data:function(){return{isFull:!1}},mounted:function(){var t=this;window.onresize=function(){if(document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen){if(t.isFull)return;return $("body").addClass("full"),t.isFull=!0}if(t.isFull)return $("body").removeClass("full"),t.isFull=!1}},methods:{toggle:function(t){t.stopPropagation(),this.$parent.showNav=!this.$parent.showNav},home:function(){},full:function(){if(this.isFull=!this.isFull,this.isFull){var t=document.documentElement,e=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullScreen;if(e)e.call(t);else if(void 0!==window.ActiveXObject){var n=new ActiveXObject("WScript.Shell");null!=n&&n.SendKeys("{F11}")}return $("body").addClass("full")}$("body").removeClass("full");var i=document,a=i.cancelFullScreen||i.webkitCancelFullScreen||i.mozCancelFullScreen||i.exitFullScreen;if(a)a.call(i);else if(void 0!==window.ActiveXObject){var r=new ActiveXObject("WScript.Shell");null!=r&&r.SendKeys("{F11}")}}}},S=Object(s.a)(w,_,[],!1,null,null,null);S.options.__file="view/header.vue";function C(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow?n("div",{staticClass:"preview",on:{click:t.hide}},[n("img",{attrs:{id:"J_previewImg",draggable:"true",src:t.src}})]):t._e()}var b=S.exports;C._withStripped=!0;var y={data:function(){return{src:"//a.yimiyisu.com/s.gif",isShow:!1}},mounted:function(){$.on("imgPreview",function(t){this.src=t,this.isShow=!0})},methods:{hide:function(){this.isShow=!1}}},T=Object(s.a)(y,C,[],!1,null,null,null);T.options.__file="view/preview.vue";var x=T.exports,E={components:{Header:b,Content:g,Chapter:c,Preview:x},props:["logo"],data:function(){return{loaded:!1,data:{},navTitle:"",nav:{sons:[]},title:"",showNav:!1,article:{}}},mounted:function(){var t=this.getId(),n=this;t&&(this.loadData(t),$.on("toggle",function(t){n.toggle(t)}),$.on("load",function(t){n.loadData(t);var e="/view.html?id="+t;n.showNav=!1,history.pushState(null,null,e)}),window.onpopstate=function(){var t=n.getId();n.loadData(t)})},methods:{loadData:function(t){if(t){var e={_id:t};this.nav.sons&&0<this.nav.sons.length&&(e.only=!0),$.post(e,"/view/content.do",function(t){if(t.hasError)return alert(t.message);var e=t.data,n=this;4===(n.article=e).type?(n.nav=JSON.parse(e.content),n.navTitle=e.title):n.nav.sons&&0!==n.nav.sons.length||(e.nav&&(n.nav=JSON.parse(e.nav)),n.navTitle=e.navTitle),n.navTitle!==e.title&&(n.title=n.navTitle+" - "+e.title),n.loaded=!0,768<$(window).width()||n.$nextTick(function(){$("img",".container").el.forEach(function(t){var e=$(t),n=parseInt(e.width()/2),i=parseInt(e.height()/2);e.attr({width:n,height:i}),e.on("click",function(t){var e=$(t.currentTarget),n=e.width(),i=e.height();$("#J_previewImg").css({"margin-left":-n/2+"px","margin-top":-i/2+"px"}),$.emit("imgPreview",e.attr("src"))})})})},this)}},toggle:function(t,e){var n;e=e||this.nav.sons;for(var i=0;i<e.length;i++){if((n=e[i]).id===t)return n.status=!n.status,!0;if(n.sons&&0<n.sons.length&&this.toggle(t,n.sons))return!0}return!1},getId:function(){for(var t=location.search.substring(1).split("&"),e=0;e<t.length;e++){var n=t[e].indexOf("=");if(-1!==n&&"id"===t[e].substring(0,n))return t[e].substring(n+1)}}}},O=Object(s.a)(E,i,[],!1,null,null,null);O.options.__file="view/index.vue";var L=O.exports;Vue.component("k-view",L),Vue.component("k-preview",x)}],c.c=b,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c(c.s=3);