!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,n){"use strict";function i(t,e,n,i,r,a,l,o){var s="function"==typeof t?t.options:t;e&&(s.render=e,s.staticRenderFns=n,s._compiled=!0),i&&(s.functional=!0),a&&(s._scopeId="data-v-"+a);var c;if(l?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(l)},s._ssrRegister=c):r&&(c=o?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(s.functional){s._injectStyles=c;var h=s.render;s.render=function(t,e){return c.call(e),h(t,e)}}else{var d=s.beforeCreate;s.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:s}}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";e.a={cavasSize:18e3,elHeight:32,elSpaceHeight:32,elUPSpace:50,hideStyle:"left:-300px;top:-300px"}},function(t,e,n){"use strict";e.a=["#56baff","#d6337d","#62B0FF","#cf0606","#ff7a7a","#764df8","#6bc859","#9a7aff","#388bdd","#ffca65","#e17aff","#7B8F18"]},function(t,e,n){"use strict";function i(t,e){var n="t_"+e.id,i=t.getById(n);return i?i.attr({text:e.name}):(i=t.text(-200,-200,e.name).attr(h).attr("id",n)).id=n,i.getBBox().width+20}function r(t,e,n){if(n?(t.x=e.x-p-t.width,t.left=n):(t.x=e.x+p+e.width,t.left=n),t.color||(t.color=e.color),e.top||(e.top=e.y-e.height/2),t.y=e.top+t.height/2,"root"===e.id){var i=e.grapType,a=e.children.length;1===i?a>2&&(n&&(a+=1),t.y=t.y-(Math.floor(a/2)-1)*c.a.elSpaceHeight/2):2!==i&&3!==i||(t.y=t.y-(a-1)*c.a.elSpaceHeight/2)}if(e.top+=t.height+c.a.elSpaceHeight,!t.children||0===t.children.length)return t;for(var l=0;l<t.children.length;l++)t.children[l]=r(t.children[l],t,n);return t}function a(t,e,n,i,r){var l,o,s,h;n?(l=e.x,s=t.x+t.width):(l=e.x+e.width,s=t.x),o=e.y+c.a.elHeight/2,h=t.y+c.a.elHeight/2;var d;if(1===r&&(d=f.pathZ(l,o,s,h,n)),2===r&&(d=f.pathC(l,o,s,h,n,p)),i.mindLine(t.id,d),t.children)for(var u=0;u<t.children.length;u++)a(t.children[u],t,n,i,r)}function l(t,e,n){if(t.y=n?e.y-c.a.elHeight-g:e.y+c.a.elHeight+g,t.color||(t.color=e.color),e.top||(e.widthCount>e.childWidthCount?e.top=e.x+e.width/2-e.childWidthCount/2:e.top=e.x+e.width/2-e.widthCount/2),t.x=e.top+t.widthCount/2-t.width/2,"root"===e.id){var i=e.grapType,r=e.children.length;"4"===i?r>2&&(n&&(r+=1),t.x=t.x-(Math.floor(r/2)-1)*c.a.elUPSpace/2):"5"!==i&&"6"!==i||(t.x=t.x-(r-1)*c.a.elUPSpace/2)}if(e.top+=t.widthCount+c.a.elUPSpace,!t.children||0===t.children.length)return t;for(var a=0;a<t.children.length;a++)t.children[a]=l(t.children[a],t,n);return t}function o(t,e,n,i,r){var a,l,s,h;a=e.x+e.width/2,s=t.x+t.width/2,n?(l=e.y,h=t.y+c.a.elHeight):(l=e.y+c.a.elHeight,h=t.y);var d;if(d=f.pathZType2(a,l,s,h,n),1===r?d=f.pathZType2(a,l,s,h,n):2===r&&(d=f.pathCType2(a,l,s,h,n,c.a.elUPSpace)),i.mindLine(t.id,d),t.children)for(var u=0;u<t.children.length;u++)o(t.children[u],t,n,i,r)}function s(t,e,n){var i=e.children;if(i&&i.length>0)for(var r=0;r<i.length;r++)s(t,i[r],n);t.mindNode(e,n,t)}var c=n(1),h={fill:"#000","font-size":13},d={height:function(t,e){var n,r,a=0;if(e.children||(e.children=[]),0===e.children.length)a=c.a.elHeight;else{r=e.children.length;for(var l=0;l<e.children.length;l++)(n=e.children[l]).children?a+=(n=this.height(t,n)).height:(a+=c.a.elHeight,n.top=0,n.height=c.a.elHeight,n.width=i(t,n));a+=(r-1)*c.a.elSpaceHeight}return e.top=0,e.height=a,e.width=i(t,e),e},width:function(t,e){var n,r,a=0,l=0;if(e.children||(e.children=[]),0===e.children.length)a=i(t,e),l+=a;else{r=e.children.length;for(var o=0;o<r;o++)(n=e.children[o]).children?l+=(n=this.width(t,n)).widthCount:(n.top=0,n.width=i(t,n),l+=n.widthCount);l+=(r-1)*c.a.elUPSpace,a=i(t,e)}return e.top=0,e.height=c.a.elHeight,e.width=a,e.childWidthCount=l,e.widthCount=l>a?l:a,e}},u=n(2),f={pathZ:function(t,e,n,i,r){var a,l,o;return r?(a=t-8,l=t-16):(a=t+8,l=t+16),o=e>i?i+8:e<i?i-8:i,"M"+t+","+e+" L"+a+","+e+" L"+a+","+o+" C"+a+","+i+" "+a+","+i+" "+l+","+i+" L"+n+","+i},pathC:function(t,e,n,i,r,a){var l,o,s,c;return r?(l=t-.3*a,s=n+.4*a):(l=t+.4*a,s=n-.3*a),o=e,c=i,"M"+t+","+e+" C"+l+","+o+" "+s+","+c+" "+n+","+i},pathZType2:function(t,e,n,i,r){var a,l,o;return r?(a=e-8,l=e-16):(a=e+8,l=e+16),o=t>n?n+8:t<n?n-8:n,"M"+t+","+e+" L"+t+","+a+" L"+o+","+a+" C"+n+","+a+" "+n+","+a+" "+n+","+l+" L"+n+","+i},pathCType2:function(t,e,n,i,r,a){var l,o,s,c;return r?(o=e-.3*a,c=i+.4*a):(o=e+.4*a,c=i-.3*a),l=t,s=n,"M"+t+","+e+" C"+l+","+o+" "+s+","+c+" "+n+","+i}},p=100,v=function(t,e,n){t.top=0,t.color||(t.color=u.a[u.a.length-1]);var i,l,o,s=0,c=parseInt(t.lineType);for(i=0;i<=e;i++)s+=(o=t.children[i]).height,o.color||(l=i%u.a.length,o.color=u.a[l]);for(t.height=s,i=0;i<=e;i++)r(t.children[i],t,!0),a(t.children[i],t,!0,n,c);for(s=0,i=++e;i<t.children.length;i++)s+=(o=t.children[i]).height,o.color||(l=i%u.a.length,o.color=u.a[l]);for(t.top=0,t.height=s,i=e;i<t.children.length;i++)r(t.children[i],t,!1),a(t.children[i],t,!1,n,c);return t},g=50,m=function(t,e,n){t.top=0,t.color||(t.color=u.a[u.a.length-1]);var i,r,a,s=0,c=parseInt(t.lineType);for(i=0;i<=e;i++)s+=(a=t.children[i]).widthCount,a.color||(r=i%u.a.length,a.color=u.a[r]);for(t.widthCount=s,i=0;i<=e;i++)l(t.children[i],t,!0),o(t.children[i],t,!0,n,c);for(s=0,i=++e;i<t.children.length;i++)s+=(a=t.children[i]).widthCount,a.color||(r=i%u.a.length,a.color=u.a[r]);for(t.top=0,t.widthCount=s,i=e;i<t.children.length;i++)l(t.children[i],t,!1),o(t.children[i],t,!1,n,c)};e.a={reset:function(t,e){e.clear(),this.init(t,e)},init:function(t,e){var n,i,r=parseInt(t.grapType),a=c.a.cavasSize;1===r||4===r?(i=t.children.length/2)%1==0?i-=1:i=Math.floor(i):2===r||5===r?i=-1:3!==r&&6!==r||(i=t.children.length-1),1===r||2===r||3===r?((n=d.height(e,t)).x=a/2,n.y=a/2,v(n,i,e)):4!==r&&5!==r&&6!==r||((n=d.width(e,t)).x=a/2,n.y=a/2,m(n,i,e)),s(e,n,t.shape)}}},function(t,e,n){"use strict";function i(t,e,n){var i={type:n,evt:t,target:e};$.emit("mindEvt","nodeEvent",i)}var r=n(2);e.a=function(){Raphael.fn.mindNode=function(t,e){var n,a,l=t.x,o=t.y,s=t.width,c=t.id,h="t_"+c,d=this.getById(h),u=this.getById(c);if(d.attr({x:l+s/2,y:o+15}),1===e){if("#ffffff"===t.color){var f=Math.floor(Math.random()*r.a.length);n=r.a[f]}else n=t.color;a={fill:n,stroke:n,"fill-opacity":.15,"stroke-width":1,cursor:"pointer"}}else a=2===e?"root"===t.id?{fill:"#ffffff",stroke:"#000","fill-opacity":.15,cursor:"pointer"}:{fill:"#ffffff",stroke:"","fill-opacity":.15,cursor:"pointer"}:{fill:t.color,stroke:t.color,"fill-opacity":.15,"stroke-width":1,cursor:"pointer"};u?(u.attr({x:l,y:o,width:s,height:32}),u.attr(a)):((u=this.rect(l,o,s,32,3)).click(function(t){i(t,this,"click")}),u.dblclick(function(t){i(t,this,"dblclick")}),u.mouseover(function(t){i(t,this,"mouseover")}),u.mouseout(function(t){i(t,this,"mouseout")}),u.attr(a),u.id=c)}}},function(t,e,n){"use strict";e.a=function(){Raphael.fn.mindLine=function(t,e){var n="l_"+t,i=this.getById(n);i?i.attr({path:e}):(i=this.path(e).attr({stroke:"#aaa","stroke-width":1,fill:"none"})).id=n}}},function(t,e,n){"use strict";e.a=function(t,e){e||(e=$(window));var n=e.width(),i=e.height(),r=parseInt(n-18e3)/2,a=parseInt(i-18e3)/2-100;t.style.left=r+"px",t.style.top=a+"px"}},,function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loaded?n("div",[n("Header",{attrs:{title:t.navTitle,logo:t.logo}}),t._v(" "),4===t.article.type?n("Chapter",{staticClass:"book",attrs:{data:t.nav.sons}}):n("Content",{attrs:{tree:t.nav.sons,isnav:t.showNav,current:t.article._id,data:t.article}})],1):t._e()},r=[];i._withStripped=!0;var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.list,function(e,i){return n("div",{key:e.id,staticClass:"chapter"},[n("div",{staticClass:"item",class:{active:e.link===t.current},on:{click:function(n){return t.select(e)}}},["folder"===e.link?n("i",{staticClass:"folder z-icon",class:{hide:!1===e.status}}):t._e(),t._v(" "),n("div",{staticClass:"serial"},[t.son?n("i",[t._v(t._s(i+1))]):n("span",[t._v(t._s(t.serial[i]))])]),t._v("\n            "+t._s(e.title)+"\n        ")]),t._v(" "),!1!==e.status&&e.sons&&e.sons.length>0?n("Chapter",{attrs:{son:!0,current:t.current,data:e.sons}}):t._e()],1)}),0)},l=[];a._withStripped=!0;var o={props:["data","current","son"],name:"Chapter",data:function(){return{list:[],serial:["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c","\u5341\u4e09","\u5341\u56db","\u5341\u4e94","\u5341\u516d","\u5341\u4e03","\u5341\u516b","\u5341\u4e5d","\u4e8c\u5341","\u4e09\u5341\u4e00","\u4e09\u5341\u4e8c","\u4e09\u5341\u4e09","\u4e09\u5341\u56db","\u4e09\u5341\u4e94","\u4e09\u5341\u516d","\u4e09\u5341\u4e03","\u4e09\u5341\u516b","\u4e09\u5341\u4e5d","\u56db\u5341"]}},mounted:function(){var t;if(this.data)for(var e=0;e<this.data.length;e++)!0===(t=this.data[e]).status&&(t.status=!1),this.list.push(t)},methods:{select:function(t){return t.link?"folder"===t.link?$.emit("toggle",t.id):($.emit("load",t.link),void $.scrollTop(0)):alert(t.title+"\u6587\u6863\u5c1a\u672a\u521b\u5efa")}}},s=n(0),c=Object(s.a)(o,a,l,!1,null,null,null);c.options.__file="view/chapter.vue";var h=c.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",class:t.bg},[n("div",{staticClass:"nav",class:{active:t.isnav}},[n("Chapter",{staticClass:"wrap",attrs:{data:t.tree,current:t.current}})],1),t._v(" "),n("div",{staticClass:"content",on:{click:t.click}},[n("h2",[t._v(t._s(t.data.title))]),t._v(" "),1===t.data.type?n("div",{staticClass:"wrap"},[n("div",{staticClass:"article-body",domProps:{innerHTML:t._s(t.data.content)}})]):t._e(),t._v(" "),2===t.data.type?n("Mind",{attrs:{value:t.data}}):t._e(),t._v(" "),5===t.data.type?n("Graph",{attrs:{value:t.data}}):t._e()],1)])},u=[];d._withStripped=!0;var f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"z-mind"},[n("div",{staticClass:"k-mind-map"})])}];f._withStripped=!0;var v=n(4),g=n(5),m=n(1),_=n(3),w=n(6),y={props:["value"],data:function(){return{readonly:!0,current:null,paper:null,data:{id:"root",ids:1,name:"\u65b0\u5efa\u601d\u7ef4\u5bfc\u56fe",children:[],lineType:1,grapType:1,shape:1}}},watch:{value:function(){this.init()}},mounted:function(){$.lib(["/raphael.min.js"],this.init),$(".k-mind-map",this.$el).draggable()},methods:{init:function(){var t=this.value.content;t&&(this.data=JSON.parse(t)),Raphael.fn.mindLine||(Object(v.a)(),Object(g.a)());var e=$(".k-mind-map",this.$el).el[0];this.paper&&this.paper.clear();var n=this.data,i=m.a.cavasSize;this.paper=Raphael(e,i,i),_.a.init(n,this.paper),Object(w.a)(e,$(this.$el))}}},C=Object(s.a)(y,f,p,!1,null,null,null);C.options.__file="view/mind.vue";var S=C.exports,x=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"k-graph"})},b=[];x._withStripped=!0;var T={props:["value"],data:function(){return{isInited:!1,themes:{}}},watch:{value:function(){this.render()}},mounted:function(){var t=window;t.STENCIL_PATH="/stencils",t.IMAGE_PATH="/images",t.STYLE_PATH="/styles",t.urlParams={},t.mxLoadResources=!1,t.mxLoadStylesheets=!1,t.mxBasePath="/",t.mxConstants={},$.lib(["/mx/mxClient.js","/mx/viewer.js"],this.render)},methods:{render:function(){var t=this;t.$el.innerHTML="",t.isInited?t.draw():mxUtils.getAll([STYLE_PATH+"/default.xml",STENCIL_PATH+"/basic.xml",STENCIL_PATH+"/flowchart.xml",STENCIL_PATH+"/bpmn.xml",STENCIL_PATH+"/arrows.xml"],function(e){t.themes[Graph.prototype.defaultThemeName]=e[0].getDocumentElement();for(var n=1;n<e.length;n++)t.loadShape(e[n]);t.isInited=!0,t.draw()},function(){alert("\u52a0\u8f7d\u8d44\u6e90\u5931\u8d25")})},draw:function(){if(this.value.content){var t=mxUtils.parseXml(this.value.content),e=new mxCodec(t),n=new Graph(this.$el,null,null,null,this.themes);n.centerZoom=!0,n.setTooltips(!1),n.setEnabled(!1);var i=n.getStylesheet().getDefaultVertexStyle();i[mxConstants.STYLE_FONTCOLOR]="#000000",i[mxConstants.STYLE_STROKECOLOR]="#777777",i[mxConstants.STYLE_FILLCOLOR]="#ffffff",(i=n.getStylesheet().getDefaultEdgeStyle())[mxConstants.STYLE_STROKECOLOR]="#777777",i[mxConstants.STYLE_FILLCOLOR]="#ffffff",n.panningHandler.useLeftButtonForPanning=!0,n.panningHandler.ignoreCell=!0,n.container.style.cursor="move",n.setPanning(!0),n.resizeContainer=!1,n.border=0,e.decode(t.documentElement,n.getModel())}},loadShape:function(t){for(var e=t.getDocumentElement().firstChild;null!=e;)e.nodeType==mxConstants.NODETYPE_ELEMENT&&mxStencilRegistry.addStencil(e.getAttribute("name"),new mxStencil(e)),e=e.nextSibling}}},E=Object(s.a)(T,x,b,!1,null,null,null);E.options.__file="view/graph.vue";var O={props:["tree","data","current","isnav"],components:{Chapter:h,Mind:S,Graph:E.exports},data:function(){return{bg:""}},watch:{data:function(t){1===t.type?this.bg="":this.bg="bg"}},mounted:function(){1!==this.data.type&&(this.bg="bg")},methods:{click:function(){this.isnav&&(this.$parent.showNav=!1,$.scrollTop(0))}}},k=Object(s.a)(O,d,u,!1,null,null,null);k.options.__file="view/content.vue";var L=k.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("h1",[n("span",{staticClass:"z-icon hover list",on:{click:t.toggle}},[t._v("\ue241")]),t._v(" "),n("span",{staticClass:"z-icon hover full",on:{click:t.full}},[t._v("\ue3c2")]),t._v("\n        "+t._s(t.title)+"\n    ")]),t._v(" "),n("a",{attrs:{href:"//www.kooteam.com",target:"_blank"}},[n("img",{attrs:{src:t.logo}})])])},H=[];I._withStripped=!0;var F={props:["title","logo"],data:function(){return{isFull:!1}},mounted:function(){var t=this;window.onresize=function(){if(document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen){if(t.isFull)return;return $("body").addClass("full"),t.isFull=!0}if(t.isFull)return $("body").removeClass("full"),t.isFull=!1}},methods:{toggle:function(t){t.stopPropagation(),this.$parent.showNav=!this.$parent.showNav},home:function(){},full:function(){if(this.isFull=!this.isFull,this.isFull){var t=document.documentElement,e=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullScreen;if(e)e.call(t);else if(void 0!==window.ActiveXObject){var n=new ActiveXObject("WScript.Shell");null!=n&&n.SendKeys("{F11}")}return $("body").addClass("full")}$("body").removeClass("full");var i=document,r=i.cancelFullScreen||i.webkitCancelFullScreen||i.mozCancelFullScreen||i.exitFullScreen;if(r)r.call(i);else if(void 0!==window.ActiveXObject){var a=new ActiveXObject("WScript.Shell");null!=a&&a.SendKeys("{F11}")}}}},P=Object(s.a)(F,I,H,!1,null,null,null);P.options.__file="view/header.vue";var j=P.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow?n("div",{staticClass:"preview",on:{click:t.hide}},[n("img",{attrs:{id:"J_previewImg",draggable:"true",src:t.src}})]):t._e()},R=[];N._withStripped=!0;var M={data:function(){return{src:"//a.yimiyisu.com/s.gif",isShow:!1}},mounted:function(){$.on("imgPreview",function(t){this.src=t,this.isShow=!0})},methods:{hide:function(){this.showImg=!1}}},A=Object(s.a)(M,N,R,!1,null,null,null);A.options.__file="view/preview.vue";var z=A.exports,B={components:{Header:j,Content:L,Chapter:h,Preview:z},props:["logo"],data:function(){return{loaded:!1,data:{},navTitle:"",nav:{sons:[]},showNav:!1,article:{}}},mounted:function(){var t=this.getId(),e=this;t&&(this.loadData(t),this.$parent.$on("toggle",function(t){e.toggle(t)}),this.$parent.$on("load",function(t){e.loadData(t);var n="/view.html?id="+t;e.showNav=!1,history.pushState(null,null,n)}),window.onpopstate=function(){var t=e.getId();e.loadData(t)})},methods:{loadData:function(t){var e=this;if(t){var n={_id:t};e.nav.sons&&e.nav.sons.length>0&&(n.only=!0),$.http(n,"/view/content.do",function(t){if(t.hasError)return alert(t.message);var n=t.data;e.article=n,4===n.type?(e.nav=JSON.parse(n.content),e.navTitle=n.title):e.nav.sons&&0!==e.nav.sons.length||(n.nav&&(e.nav=JSON.parse(n.nav)),e.navTitle=n.navTitle),e.loaded=!0,$(window).width()>768||e.$nextTick(function(){$("img",".container").el.forEach(function(t){var e=$(t),n=parseInt(e.width()/2),i=parseInt(e.height()/2);e.attr({width:n,height:i}),e.on("click",function(t){var e=$(t.currentTarget),n=e.width(),i=e.height();$("#J_previewImg").css({"margin-left":-n/2+"px","margin-top":-i/2+"px"}),$.emit("imgPreview",e.attr("src"))})})})})}},toggle:function(t,e){e||(e=this.nav.sons);for(var n,i=0;i<e.length;i++){if((n=e[i]).id===t)return n.status=!n.status,!0;if(n.sons&&n.sons.length>0&&this.toggle(t,n.sons))return!0}return!1},getId:function(){for(var t=location.search.substring(1).split("&"),e=0;e<t.length;e++){var n=t[e].indexOf("=");if(-1!==n&&"id"===t[e].substring(0,n))return t[e].substring(n+1)}}}},U=Object(s.a)(B,i,r,!1,null,null,null);U.options.__file="view/index.vue";var D=U.exports;Vue.component("k-view",D),Vue.component("k-preview",z)}]);